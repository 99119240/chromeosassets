var $jscomp$defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(target,property,descriptor){target!=Array.prototype&&target!=Object.prototype&&(target[property]=descriptor.value)},$jscomp$global="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,$jscomp$polyfill=function(target,polyfill){if(polyfill){for(var obj=$jscomp$global,split=target.split("."),i=0;i<split.length-1;i++){var key=split[i];key in obj||(obj[key]=
{});obj=obj[key]}var property=split[split.length-1],orig=obj[property],impl=polyfill(orig);impl!=orig&&null!=impl&&$jscomp$defineProperty(obj,property,{configurable:!0,writable:!0,value:impl})}},$jscomp$initSymbol=function(){$jscomp$initSymbol=function(){};$jscomp$global.Symbol||($jscomp$global.Symbol=$jscomp$Symbol)},$jscomp$Symbol=function(){var counter=0;return function(opt_description){return"jscomp_symbol_"+(opt_description||"")+counter++}}(),$jscomp$initSymbolIterator=function(){$jscomp$initSymbol();
var symbolIterator=$jscomp$global.Symbol.iterator;symbolIterator||(symbolIterator=$jscomp$global.Symbol.iterator=$jscomp$global.Symbol("iterator"));"function"!=typeof Array.prototype[symbolIterator]&&$jscomp$defineProperty(Array.prototype,symbolIterator,{configurable:!0,writable:!0,value:function(){return $jscomp$arrayIterator(this)}});$jscomp$initSymbolIterator=function(){}},$jscomp$arrayIterator=function(array){var index=0;return $jscomp$iteratorPrototype(function(){return index<array.length?{done:!1,
value:array[index++]}:{done:!0}})},$jscomp$iteratorPrototype=function(next){$jscomp$initSymbolIterator();var iterator={next:next};iterator[$jscomp$global.Symbol.iterator]=function(){return this};return iterator};
$jscomp$polyfill("Array.from",function(orig){return orig?orig:function(arrayLike,opt_mapFn,opt_thisArg){$jscomp$initSymbolIterator();opt_mapFn=null!=opt_mapFn?opt_mapFn:function(x){return x};var result=[],iteratorFunction=arrayLike[Symbol.iterator];if("function"==typeof iteratorFunction){arrayLike=iteratorFunction.call(arrayLike);for(var next;!(next=arrayLike.next()).done;)result.push(opt_mapFn.call(opt_thisArg,next.value))}else for(var len=arrayLike.length,i=0;i<len;i++)result.push(opt_mapFn.call(opt_thisArg,
arrayLike[i]));return result}});var $jscomp$makeIterator=function(iterable){$jscomp$initSymbolIterator();var iteratorFunction=iterable[Symbol.iterator];return iteratorFunction?iteratorFunction.call(iterable):$jscomp$arrayIterator(iterable)},$jscomp$owns=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)};
$jscomp$polyfill("WeakMap",function(NativeWeakMap){function insert(target){$jscomp$owns(target,prop)||$jscomp$defineProperty(target,prop,{value:{}})}function patch(name){var prev=Object[name];prev&&(Object[name]=function(target){insert(target);return prev(target)})}if(function(){if(!NativeWeakMap||!Object.seal)return!1;try{var x=Object.seal({}),y=Object.seal({}),map=new NativeWeakMap([[x,2],[y,3]]);if(2!=map.get(x)||3!=map.get(y))return!1;map["delete"](x);map.set(y,4);return!map.has(x)&&4==map.get(y)}catch(err){return!1}}())return NativeWeakMap;
var prop="$jscomp_hidden_"+Math.random();patch("freeze");patch("preventExtensions");patch("seal");var index=0,PolyfillWeakMap=function(opt_iterable){this.id_=(index+=Math.random()+1).toString();if(opt_iterable){$jscomp$initSymbol();$jscomp$initSymbolIterator();for(var iter=$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;){var item=entry.value;this.set(item[0],item[1])}}};PolyfillWeakMap.prototype.set=function(key,value){insert(key);if(!$jscomp$owns(key,prop))throw Error("WeakMap key fail: "+
key);key[prop][this.id_]=value;return this};PolyfillWeakMap.prototype.get=function(key){return $jscomp$owns(key,prop)?key[prop][this.id_]:void 0};PolyfillWeakMap.prototype.has=function(key){return $jscomp$owns(key,prop)&&$jscomp$owns(key[prop],this.id_)};PolyfillWeakMap.prototype["delete"]=function(key){return $jscomp$owns(key,prop)&&$jscomp$owns(key[prop],this.id_)?delete key[prop][this.id_]:!1};return PolyfillWeakMap});
$jscomp$polyfill("Map",function(NativeMap){if(function(){if(!NativeMap||"function"!=typeof NativeMap||!NativeMap.prototype.entries||"function"!=typeof Object.seal)return!1;try{var key=Object.seal({x:4}),map=new NativeMap($jscomp$makeIterator([[key,"s"]]));if("s"!=map.get(key)||1!=map.size||map.get({x:4})||map.set({x:4},"t")!=map||2!=map.size)return!1;var iter=map.entries(),item=iter.next();if(item.done||item.value[0]!=key||"s"!=item.value[1])return!1;item=iter.next();return item.done||4!=item.value[0].x||
"t"!=item.value[1]||!iter.next().done?!1:!0}catch(err){return!1}}())return NativeMap;$jscomp$initSymbol();$jscomp$initSymbolIterator();var idMap=new WeakMap,PolyfillMap=function(opt_iterable){this.data_={};this.head_=createHead();this.size=0;if(opt_iterable)for(var iter=$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;){var item=entry.value;this.set(item[0],item[1])}};PolyfillMap.prototype.set=function(key,value){var r=maybeGetEntry(this,key);r.list||(r.list=this.data_[r.id]=[]);
r.entry?r.entry.value=value:(r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:key,value:value},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++);return this};PolyfillMap.prototype["delete"]=function(key){var r=maybeGetEntry(this,key);return r.entry&&r.list?(r.list.splice(r.index,1),r.list.length||delete this.data_[r.id],r.entry.previous.next=r.entry.next,r.entry.next.previous=r.entry.previous,r.entry.head=null,this.size--,!0):!1};
PolyfillMap.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=createHead();this.size=0};PolyfillMap.prototype.has=function(key){return!!maybeGetEntry(this,key).entry};PolyfillMap.prototype.get=function(key){var entry=maybeGetEntry(this,key).entry;return entry&&entry.value};PolyfillMap.prototype.entries=function(){return makeIterator(this,function(entry){return[entry.key,entry.value]})};PolyfillMap.prototype.keys=function(){return makeIterator(this,function(entry){return entry.key})};
PolyfillMap.prototype.values=function(){return makeIterator(this,function(entry){return entry.value})};PolyfillMap.prototype.forEach=function(callback,opt_thisArg){for(var iter=this.entries(),item;!(item=iter.next()).done;){var entry=item.value;callback.call(opt_thisArg,entry[1],entry[0],this)}};PolyfillMap.prototype[Symbol.iterator]=PolyfillMap.prototype.entries;var maybeGetEntry=function(map,key){var type=key&&typeof key;if("object"==type||"function"==type)if(idMap.has(key))var id=idMap.get(key);
else{var id$jscomp$0=""+ ++mapIndex;idMap.set(key,id$jscomp$0);id=id$jscomp$0}else id="p_"+key;var list=map.data_[id];if(list&&$jscomp$owns(map.data_,id))for(var index=0;index<list.length;index++){var entry=list[index];if(key!==key&&entry.key!==entry.key||key===entry.key)return{id:id,list:list,index:index,entry:entry}}return{id:id,list:list,index:-1,entry:void 0}},makeIterator=function(map,func){var entry=map.head_;return $jscomp$iteratorPrototype(function(){if(entry){for(;entry.head!=map.head_;)entry=
entry.previous;for(;entry.next!=entry.head;)return entry=entry.next,{done:!1,value:func(entry)};entry=null}return{done:!0,value:void 0}})},createHead=function(){var head={};return head.previous=head.next=head.head=head},mapIndex=0;return PolyfillMap});
$jscomp$polyfill("Set",function(NativeSet){if(function(){if(!NativeSet||"function"!=typeof NativeSet||!NativeSet.prototype.entries||"function"!=typeof Object.seal)return!1;try{var value=Object.seal({x:4}),set=new NativeSet($jscomp$makeIterator([value]));if(!set.has(value)||1!=set.size||set.add(value)!=set||1!=set.size||set.add({x:4})!=set||2!=set.size)return!1;var iter=set.entries(),item=iter.next();if(item.done||item.value[0]!=value||item.value[1]!=value)return!1;item=iter.next();return item.done||
item.value[0]==value||4!=item.value[0].x||item.value[1]!=item.value[0]?!1:iter.next().done}catch(err){return!1}}())return NativeSet;$jscomp$initSymbol();$jscomp$initSymbolIterator();var PolyfillSet=function(opt_iterable){this.map_=new Map;if(opt_iterable)for(var iter=$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;)this.add(entry.value);this.size=this.map_.size};PolyfillSet.prototype.add=function(value){this.map_.set(value,value);this.size=this.map_.size;return this};PolyfillSet.prototype["delete"]=
function(value){var result=this.map_["delete"](value);this.size=this.map_.size;return result};PolyfillSet.prototype.clear=function(){this.map_.clear();this.size=0};PolyfillSet.prototype.has=function(value){return this.map_.has(value)};PolyfillSet.prototype.entries=function(){return this.map_.entries()};PolyfillSet.prototype.values=function(){return this.map_.values()};PolyfillSet.prototype.keys=PolyfillSet.prototype.values;PolyfillSet.prototype[Symbol.iterator]=PolyfillSet.prototype.values;PolyfillSet.prototype.forEach=
function(callback,opt_thisArg){var set=this;this.map_.forEach(function(value){return callback.call(opt_thisArg,value,value,set)})};return PolyfillSet});
var goog=goog||{},goog$global=this,goog$isString=function(val){return"string"==typeof val},goog$isNumber=function(val){return"number"==typeof val},goog$nullFunction=function(){},goog$typeOf=function(value){var s=typeof value;if("object"==s)if(value){if(value instanceof Array)return"array";if(value instanceof Object)return s;var className=Object.prototype.toString.call(value);if("[object Window]"==className)return"object";if("[object Array]"==className||"number"==typeof value.length&&"undefined"!=
typeof value.splice&&"undefined"!=typeof value.propertyIsEnumerable&&!value.propertyIsEnumerable("splice"))return"array";if("[object Function]"==className||"undefined"!=typeof value.call&&"undefined"!=typeof value.propertyIsEnumerable&&!value.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==s&&"undefined"==typeof value.call)return"object";return s},goog$isArray=function(val){return"array"==goog$typeOf(val)},goog$isArrayLike=function(val){var type=goog$typeOf(val);
return"array"==type||"object"==type&&"number"==typeof val.length},goog$isFunction=function(val){return"function"==goog$typeOf(val)},goog$isObject=function(val){var type=typeof val;return"object"==type&&null!=val||"function"==type},goog$UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0),goog$uidCounter_=0,goog$bindNative_=function(fn,selfObj,var_args){return fn.call.apply(fn.bind,arguments)},goog$bindJs_=function(fn,selfObj,var_args){if(!fn)throw Error();if(2<arguments.length){var boundArgs=Array.prototype.slice.call(arguments,
2);return function(){var newArgs=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(newArgs,boundArgs);return fn.apply(selfObj,newArgs)}}return function(){return fn.apply(selfObj,arguments)}},goog$bind=function(fn,selfObj,var_args){goog$bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog$bindNative_:goog$bindJs_;return goog$bind.apply(null,arguments)},goog$partial=function(fn,var_args){var args=Array.prototype.slice.call(arguments,1);return function(){var newArgs=
args.slice();newArgs.push.apply(newArgs,arguments);return fn.apply(this,newArgs)}},goog$now=Date.now||function(){return+new Date},goog$inherits=function(childCtor,parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;childCtor.superClass_=parentCtor.prototype;childCtor.prototype=new tempCtor;childCtor.prototype.constructor=childCtor;childCtor.base=function(me,methodName,var_args){for(var args=Array(arguments.length-2),i=2;i<arguments.length;i++)args[i-2]=arguments[i];return parentCtor.prototype[methodName].apply(me,
args)}};var goog$debug$Error=function(opt_msg){if(Error.captureStackTrace)Error.captureStackTrace(this,goog$debug$Error);else{var stack=Error().stack;stack&&(this.stack=stack)}opt_msg&&(this.message=String(opt_msg))};goog$inherits(goog$debug$Error,Error);goog$debug$Error.prototype.name="CustomError";var goog$asserts$AssertionError=function(messagePattern,messageArgs){for(var splitParts=messagePattern.split("%s"),returnString="",subLast=splitParts.length-1,i=0;i<subLast;i++)returnString+=splitParts[i]+(i<messageArgs.length?messageArgs[i]:"%s");goog$debug$Error.call(this,returnString+splitParts[subLast])};goog$inherits(goog$asserts$AssertionError,goog$debug$Error);goog$asserts$AssertionError.prototype.name="AssertionError";
var goog$asserts$doAssertFailure_=function(defaultMessage,defaultArgs,givenMessage,givenArgs){var message="Assertion failed";if(givenMessage){message+=": "+givenMessage;var args=givenArgs}else defaultMessage&&(message+=": "+defaultMessage,args=defaultArgs);throw new goog$asserts$AssertionError(""+message,args||[]);},goog$asserts$assert=function(condition,opt_message,var_args){condition||goog$asserts$doAssertFailure_("",null,opt_message,Array.prototype.slice.call(arguments,2))},goog$asserts$fail=function(opt_message,
var_args){throw new goog$asserts$AssertionError("Failure"+(opt_message?": "+opt_message:""),Array.prototype.slice.call(arguments,1));},goog$asserts$assertString=function(value,opt_message,var_args){goog$isString(value)||goog$asserts$doAssertFailure_("Expected string but got %s: %s.",[goog$typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2))},goog$asserts$assertElement=function(value,opt_message,var_args){goog$isObject(value)&&1==value.nodeType||goog$asserts$doAssertFailure_("Expected Element but got %s: %s.",
[goog$typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return value};var goog$array$indexOf=Array.prototype.indexOf?function(arr,obj){goog$asserts$assert(null!=arr.length);return Array.prototype.indexOf.call(arr,obj,void 0)}:function(arr,obj){if(goog$isString(arr))return goog$isString(obj)&&1==obj.length?arr.indexOf(obj,0):-1;for(var i=0;i<arr.length;i++)if(i in arr&&arr[i]===obj)return i;return-1},goog$array$forEach=Array.prototype.forEach?function(arr,f,opt_obj){goog$asserts$assert(null!=arr.length);Array.prototype.forEach.call(arr,f,opt_obj)}:function(arr,f,opt_obj){for(var l=
arr.length,arr2=goog$isString(arr)?arr.split(""):arr,i=0;i<l;i++)i in arr2&&f.call(opt_obj,arr2[i],i,arr)},goog$array$filter=Array.prototype.filter?function(arr,f){goog$asserts$assert(null!=arr.length);return Array.prototype.filter.call(arr,f,void 0)}:function(arr,f){for(var l=arr.length,res=[],resLength=0,arr2=goog$isString(arr)?arr.split(""):arr,i=0;i<l;i++)if(i in arr2){var val=arr2[i];f.call(void 0,val,i,arr)&&(res[resLength++]=val)}return res},goog$array$map=Array.prototype.map?function(arr,
f,opt_obj){goog$asserts$assert(null!=arr.length);return Array.prototype.map.call(arr,f,opt_obj)}:function(arr,f,opt_obj){for(var l=arr.length,res=Array(l),arr2=goog$isString(arr)?arr.split(""):arr,i=0;i<l;i++)i in arr2&&(res[i]=f.call(opt_obj,arr2[i],i,arr));return res},goog$array$find=function(arr){a:{for(var f=goog$net$XhrIo$isContentTypeHeader_,l=arr.length,arr2=goog$isString(arr)?arr.split(""):arr,i=0;i<l;i++)if(i in arr2&&f.call(void 0,arr2[i],i,arr)){var i$jscomp$0=i;break a}i$jscomp$0=-1}return 0>
i$jscomp$0?null:goog$isString(arr)?arr.charAt(i$jscomp$0):arr[i$jscomp$0]},goog$array$remove=function(arr,obj){var i=goog$array$indexOf(arr,obj),rv;if(rv=0<=i)goog$asserts$assert(null!=arr.length),Array.prototype.splice.call(arr,i,1);return rv},goog$array$concat=function(var_args){return Array.prototype.concat.apply([],arguments)},goog$array$toArray=function(object){var length=object.length;if(0<length){for(var rv=Array(length),i=0;i<length;i++)rv[i]=object[i];return rv}return[]},goog$array$slice=
function(arr,start,opt_end){goog$asserts$assert(null!=arr.length);return 2>=arguments.length?Array.prototype.slice.call(arr,start):Array.prototype.slice.call(arr,start,opt_end)},goog$array$concatMap=function(arr,f){return goog$array$concat.apply([],goog$array$map(arr,f,void 0))};var goog$Disposable=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};goog$Disposable.prototype.disposed_=!1;goog$Disposable.prototype.isDisposed=function(){return this.disposed_};goog$Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var goog$events$Event=function(type,opt_target){this.type=type;this.currentTarget=this.target=opt_target;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};goog$events$Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};goog$events$Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var goog$string$isEmptyOrWhitespace=function(str){return/^[\s\xa0]*$/.test(str)},goog$string$trim=String.prototype.trim?function(str){return str.trim()}:function(str){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(str)[1]},goog$string$htmlEscape=function(str){if(!goog$string$ALL_RE_.test(str))return str;-1!=str.indexOf("&")&&(str=str.replace(goog$string$AMP_RE_,"&amp;"));-1!=str.indexOf("<")&&(str=str.replace(goog$string$LT_RE_,"&lt;"));-1!=str.indexOf(">")&&(str=str.replace(goog$string$GT_RE_,"&gt;"));
-1!=str.indexOf('"')&&(str=str.replace(goog$string$QUOT_RE_,"&quot;"));-1!=str.indexOf("'")&&(str=str.replace(goog$string$SINGLE_QUOTE_RE_,"&#39;"));-1!=str.indexOf("\x00")&&(str=str.replace(goog$string$NULL_RE_,"&#0;"));return str},goog$string$AMP_RE_=/&/g,goog$string$LT_RE_=/</g,goog$string$GT_RE_=/>/g,goog$string$QUOT_RE_=/"/g,goog$string$SINGLE_QUOTE_RE_=/'/g,goog$string$NULL_RE_=/\x00/g,goog$string$ALL_RE_=/[\x00&<>"']/,goog$string$compareVersions=function(version1,version2){for(var order=0,
v1Subs=goog$string$trim(String(version1)).split("."),v2Subs=goog$string$trim(String(version2)).split("."),subCount=Math.max(v1Subs.length,v2Subs.length),subIdx=0;0==order&&subIdx<subCount;subIdx++){var v1Sub=v1Subs[subIdx]||"",v2Sub=v2Subs[subIdx]||"";do{var v1Comp=/(\d*)(\D*)(.*)/.exec(v1Sub)||["","","",""],v2Comp=/(\d*)(\D*)(.*)/.exec(v2Sub)||["","","",""];if(0==v1Comp[0].length&&0==v2Comp[0].length)break;order=goog$string$compareElements_(0==v1Comp[1].length?0:parseInt(v1Comp[1],10),0==v2Comp[1].length?
0:parseInt(v2Comp[1],10))||goog$string$compareElements_(0==v1Comp[2].length,0==v2Comp[2].length)||goog$string$compareElements_(v1Comp[2],v2Comp[2]);v1Sub=v1Comp[3];v2Sub=v2Comp[3]}while(0==order)}return order},goog$string$compareElements_=function(left,right){return left<right?-1:left>right?1:0},goog$string$toCamelCase=function(str){return String(str).replace(/\-([a-z])/g,function(all,match){return match.toUpperCase()})};var goog$labs$userAgent$util$userAgent_;a:{var navigator$jscomp$inline_71=goog$global.navigator;if(navigator$jscomp$inline_71){var userAgent$jscomp$inline_72=navigator$jscomp$inline_71.userAgent;if(userAgent$jscomp$inline_72){goog$labs$userAgent$util$userAgent_=userAgent$jscomp$inline_72;break a}}goog$labs$userAgent$util$userAgent_=""}var goog$labs$userAgent$util$matchUserAgent=function(str){return-1!=goog$labs$userAgent$util$userAgent_.indexOf(str)};var goog$object$forEach=function(obj,f){for(var key in obj)f.call(void 0,obj[key],key,obj)},goog$object$some=function(obj,f){for(var key in obj)if(f.call(void 0,obj[key],key,obj))return!0;return!1},goog$object$getKeys=function(obj){var res=[],i=0,key;for(key in obj)res[i++]=key;return res},goog$object$clone=function(obj){var res={},key;for(key in obj)res[key]=obj[key];return res},goog$object$PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
goog$object$extend=function(target,var_args){for(var key,source,i=1;i<arguments.length;i++){source=arguments[i];for(key in source)target[key]=source[key];for(var j=0;j<goog$object$PROTOTYPE_FIELDS_.length;j++)key=goog$object$PROTOTYPE_FIELDS_[j],Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}};var goog$labs$userAgent$browser$matchChrome_=function(){return(goog$labs$userAgent$util$matchUserAgent("Chrome")||goog$labs$userAgent$util$matchUserAgent("CriOS"))&&!goog$labs$userAgent$util$matchUserAgent("Edge")};var goog$labs$userAgent$platform$isIphone=function(){return goog$labs$userAgent$util$matchUserAgent("iPhone")&&!goog$labs$userAgent$util$matchUserAgent("iPod")&&!goog$labs$userAgent$util$matchUserAgent("iPad")};var goog$reflect$sinkValue=function(x){goog$reflect$sinkValue[" "](x);return x};goog$reflect$sinkValue[" "]=goog$nullFunction;var goog$reflect$cache=function(key,valueFn){var cacheObj=goog$userAgent.isVersionOrHigherCache_;return Object.prototype.hasOwnProperty.call(cacheObj,key)?cacheObj[key]:cacheObj[key]=valueFn(key)};var goog$userAgent={ASSUME_IE:!1,ASSUME_EDGE:!1,ASSUME_GECKO:!1,ASSUME_WEBKIT:!1,ASSUME_MOBILE_WEBKIT:!1,ASSUME_OPERA:!1,ASSUME_ANY_VERSION:!1};goog$userAgent.BROWSER_KNOWN_=goog$userAgent.ASSUME_IE||goog$userAgent.ASSUME_EDGE||goog$userAgent.ASSUME_GECKO||goog$userAgent.ASSUME_MOBILE_WEBKIT||goog$userAgent.ASSUME_WEBKIT||goog$userAgent.ASSUME_OPERA;goog$userAgent.getUserAgentString=function(){return goog$labs$userAgent$util$userAgent_};
goog$userAgent.getNavigatorTyped=function(){return goog$global.navigator||null};goog$userAgent.getNavigator=function(){return goog$userAgent.getNavigatorTyped()};goog$userAgent.OPERA=goog$userAgent.BROWSER_KNOWN_?goog$userAgent.ASSUME_OPERA:goog$labs$userAgent$util$matchUserAgent("Opera");goog$userAgent.IE=goog$userAgent.BROWSER_KNOWN_?goog$userAgent.ASSUME_IE:goog$labs$userAgent$util$matchUserAgent("Trident")||goog$labs$userAgent$util$matchUserAgent("MSIE");
goog$userAgent.EDGE=goog$userAgent.BROWSER_KNOWN_?goog$userAgent.ASSUME_EDGE:goog$labs$userAgent$util$matchUserAgent("Edge");goog$userAgent.EDGE_OR_IE=goog$userAgent.EDGE||goog$userAgent.IE;
goog$userAgent.GECKO=goog$userAgent.BROWSER_KNOWN_?goog$userAgent.ASSUME_GECKO:goog$labs$userAgent$util$matchUserAgent("Gecko")&&!(-1!=goog$labs$userAgent$util$userAgent_.toLowerCase().indexOf("webkit")&&!goog$labs$userAgent$util$matchUserAgent("Edge"))&&!(goog$labs$userAgent$util$matchUserAgent("Trident")||goog$labs$userAgent$util$matchUserAgent("MSIE"))&&!goog$labs$userAgent$util$matchUserAgent("Edge");
goog$userAgent.WEBKIT=goog$userAgent.BROWSER_KNOWN_?goog$userAgent.ASSUME_WEBKIT||goog$userAgent.ASSUME_MOBILE_WEBKIT:-1!=goog$labs$userAgent$util$userAgent_.toLowerCase().indexOf("webkit")&&!goog$labs$userAgent$util$matchUserAgent("Edge");goog$userAgent.isMobile_=function(){return goog$userAgent.WEBKIT&&goog$labs$userAgent$util$matchUserAgent("Mobile")};goog$userAgent.MOBILE=goog$userAgent.ASSUME_MOBILE_WEBKIT||goog$userAgent.isMobile_();goog$userAgent.SAFARI=goog$userAgent.WEBKIT;
goog$userAgent.determinePlatform_=function(){var navigator=goog$userAgent.getNavigatorTyped();return navigator&&navigator.platform||""};goog$userAgent.PLATFORM=goog$userAgent.determinePlatform_();goog$userAgent.ASSUME_MAC=!1;goog$userAgent.ASSUME_WINDOWS=!1;goog$userAgent.ASSUME_LINUX=!1;goog$userAgent.ASSUME_X11=!1;goog$userAgent.ASSUME_ANDROID=!1;goog$userAgent.ASSUME_IPHONE=!1;goog$userAgent.ASSUME_IPAD=!1;goog$userAgent.ASSUME_IPOD=!1;
goog$userAgent.PLATFORM_KNOWN_=goog$userAgent.ASSUME_MAC||goog$userAgent.ASSUME_WINDOWS||goog$userAgent.ASSUME_LINUX||goog$userAgent.ASSUME_X11||goog$userAgent.ASSUME_ANDROID||goog$userAgent.ASSUME_IPHONE||goog$userAgent.ASSUME_IPAD||goog$userAgent.ASSUME_IPOD;goog$userAgent.MAC=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_MAC:goog$labs$userAgent$util$matchUserAgent("Macintosh");goog$userAgent.WINDOWS=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_WINDOWS:goog$labs$userAgent$util$matchUserAgent("Windows");
goog$userAgent.isLegacyLinux_=function(){return goog$labs$userAgent$util$matchUserAgent("Linux")||goog$labs$userAgent$util$matchUserAgent("CrOS")};goog$userAgent.LINUX=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_LINUX:goog$userAgent.isLegacyLinux_();goog$userAgent.isX11_=function(){var navigator=goog$userAgent.getNavigatorTyped();return!!navigator&&-1!=(navigator.appVersion||"").indexOf("X11")};goog$userAgent.X11=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_X11:goog$userAgent.isX11_();
goog$userAgent.ANDROID=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_ANDROID:goog$labs$userAgent$util$matchUserAgent("Android");goog$userAgent.IPHONE=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_IPHONE:goog$labs$userAgent$platform$isIphone();goog$userAgent.IPAD=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_IPAD:goog$labs$userAgent$util$matchUserAgent("iPad");goog$userAgent.IPOD=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_IPOD:goog$labs$userAgent$util$matchUserAgent("iPod");
goog$userAgent.IOS=goog$userAgent.PLATFORM_KNOWN_?goog$userAgent.ASSUME_IPHONE||goog$userAgent.ASSUME_IPAD||goog$userAgent.ASSUME_IPOD:goog$labs$userAgent$platform$isIphone()||goog$labs$userAgent$util$matchUserAgent("iPad")||goog$labs$userAgent$util$matchUserAgent("iPod");goog$userAgent.determineVersion_=function(){var version="",arr=goog$userAgent.getVersionRegexResult_();arr&&(version=arr?arr[1]:"");if(goog$userAgent.IE){var docMode=goog$userAgent.getDocumentMode_();if(null!=docMode&&docMode>parseFloat(version))return String(docMode)}return version};
goog$userAgent.getVersionRegexResult_=function(){var userAgent=goog$userAgent.getUserAgentString();if(goog$userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(userAgent);if(goog$userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(userAgent);if(goog$userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(userAgent);if(goog$userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(userAgent);if(goog$userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(userAgent)};
goog$userAgent.getDocumentMode_=function(){var doc=goog$global.document;return doc?doc.documentMode:void 0};goog$userAgent.VERSION=goog$userAgent.determineVersion_();goog$userAgent.compare=function(v1,v2){return goog$string$compareVersions(v1,v2)};goog$userAgent.isVersionOrHigherCache_={};goog$userAgent.isVersionOrHigher=function(version){return goog$userAgent.ASSUME_ANY_VERSION||goog$reflect$cache(version,function(){return 0<=goog$string$compareVersions(goog$userAgent.VERSION,version)})};
goog$userAgent.isVersion=goog$userAgent.isVersionOrHigher;goog$userAgent.isDocumentModeOrHigher=function(documentMode){return Number(goog$userAgent.DOCUMENT_MODE)>=documentMode};goog$userAgent.isDocumentMode=goog$userAgent.isDocumentModeOrHigher;var JSCompiler_inline_result$jscomp$12;var doc$jscomp$inline_74=goog$global.document;
JSCompiler_inline_result$jscomp$12=doc$jscomp$inline_74&&goog$userAgent.IE?goog$userAgent.getDocumentMode_()||("CSS1Compat"==doc$jscomp$inline_74.compatMode?parseInt(goog$userAgent.VERSION,10):5):void 0;goog$userAgent.DOCUMENT_MODE=JSCompiler_inline_result$jscomp$12;var goog$debug$freezeInternal_=Object.freeze||function(arg){return arg};var goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT=!goog$userAgent.IE||goog$userAgent.isDocumentModeOrHigher(9),goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT=goog$userAgent.IE&&!goog$userAgent.isVersionOrHigher("9"),goog$events$BrowserFeature$PASSIVE_EVENTS=function(){if(!goog$global.addEventListener||!Object.defineProperty)return!1;var passive=!1,options=Object.defineProperty({},"passive",{get:function(){passive=!0}});goog$global.addEventListener("test",goog$nullFunction,options);
goog$global.removeEventListener("test",goog$nullFunction,options);return passive}();var goog$events$BrowserEvent=function(opt_e,opt_currentTarget){goog$events$Event.call(this,opt_e?opt_e.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.event_=null;opt_e&&this.init(opt_e,opt_currentTarget)};
goog$inherits(goog$events$BrowserEvent,goog$events$Event);var goog$events$BrowserEvent$IE_POINTER_TYPE_MAP=goog$debug$freezeInternal_({2:"touch",3:"pen",4:"mouse"});
goog$events$BrowserEvent.prototype.init=function(e$jscomp$0,opt_currentTarget){var type=this.type=e$jscomp$0.type,relevantTouch=e$jscomp$0.changedTouches?e$jscomp$0.changedTouches[0]:null;this.target=e$jscomp$0.target||e$jscomp$0.srcElement;this.currentTarget=opt_currentTarget;var relatedTarget=e$jscomp$0.relatedTarget;if(relatedTarget){if(goog$userAgent.GECKO){a:{try{goog$reflect$sinkValue(relatedTarget.nodeName);var JSCompiler_inline_result=!0;break a}catch(e){}JSCompiler_inline_result=!1}JSCompiler_inline_result||
(relatedTarget=null)}}else"mouseover"==type?relatedTarget=e$jscomp$0.fromElement:"mouseout"==type&&(relatedTarget=e$jscomp$0.toElement);this.relatedTarget=relatedTarget;null===relevantTouch?(this.offsetX=goog$userAgent.WEBKIT||void 0!==e$jscomp$0.offsetX?e$jscomp$0.offsetX:e$jscomp$0.layerX,this.offsetY=goog$userAgent.WEBKIT||void 0!==e$jscomp$0.offsetY?e$jscomp$0.offsetY:e$jscomp$0.layerY,this.clientX=void 0!==e$jscomp$0.clientX?e$jscomp$0.clientX:e$jscomp$0.pageX,this.clientY=void 0!==e$jscomp$0.clientY?
e$jscomp$0.clientY:e$jscomp$0.pageY,this.screenX=e$jscomp$0.screenX||0,this.screenY=e$jscomp$0.screenY||0):(this.clientX=void 0!==relevantTouch.clientX?relevantTouch.clientX:relevantTouch.pageX,this.clientY=void 0!==relevantTouch.clientY?relevantTouch.clientY:relevantTouch.pageY,this.screenX=relevantTouch.screenX||0,this.screenY=relevantTouch.screenY||0);this.button=e$jscomp$0.button;this.keyCode=e$jscomp$0.keyCode||0;this.key=e$jscomp$0.key||"";this.charCode=e$jscomp$0.charCode||("keypress"==type?
e$jscomp$0.keyCode:0);this.ctrlKey=e$jscomp$0.ctrlKey;this.altKey=e$jscomp$0.altKey;this.shiftKey=e$jscomp$0.shiftKey;this.metaKey=e$jscomp$0.metaKey;this.pointerId=e$jscomp$0.pointerId||0;this.pointerType=goog$isString(e$jscomp$0.pointerType)?e$jscomp$0.pointerType:goog$events$BrowserEvent$IE_POINTER_TYPE_MAP[e$jscomp$0.pointerType]||"";this.state=e$jscomp$0.state;this.event_=e$jscomp$0;e$jscomp$0.defaultPrevented&&this.preventDefault()};
goog$events$BrowserEvent.prototype.stopPropagation=function(){goog$events$BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog$events$BrowserEvent.prototype.preventDefault=function(){goog$events$BrowserEvent.superClass_.preventDefault.call(this);var be=this.event_;if(be.preventDefault)be.preventDefault();else if(be.returnValue=!1,goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(be.ctrlKey||112<=be.keyCode&&123>=be.keyCode)be.keyCode=-1}catch(ex){}};var goog$events$Listenable$IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0),goog$events$ListenableKey$counter_=0;var goog$events$Listener=function(listener,src,type,capture,opt_handler){this.listener=listener;this.proxy=null;this.src=src;this.type=type;this.capture=!!capture;this.handler=opt_handler;this.key=++goog$events$ListenableKey$counter_;this.removed=this.callOnce=!1},JSCompiler_StaticMethods_markAsRemoved=function(JSCompiler_StaticMethods_markAsRemoved$self){JSCompiler_StaticMethods_markAsRemoved$self.removed=!0;JSCompiler_StaticMethods_markAsRemoved$self.listener=null;JSCompiler_StaticMethods_markAsRemoved$self.proxy=
null;JSCompiler_StaticMethods_markAsRemoved$self.src=null;JSCompiler_StaticMethods_markAsRemoved$self.handler=null};var goog$events$ListenerMap=function(src){this.src=src;this.listeners={};this.typeCount_=0};
goog$events$ListenerMap.prototype.add=function(type,listener,callOnce,opt_useCapture,opt_listenerScope){var typeStr=type.toString(),listenerArray=this.listeners[typeStr];listenerArray||(listenerArray=this.listeners[typeStr]=[],this.typeCount_++);var index=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,opt_useCapture,opt_listenerScope);if(-1<index){var listenerObj=listenerArray[index];callOnce||(listenerObj.callOnce=!1)}else listenerObj=new goog$events$Listener(listener,this.src,
typeStr,!!opt_useCapture,opt_listenerScope),listenerObj.callOnce=callOnce,listenerArray.push(listenerObj);return listenerObj};
goog$events$ListenerMap.prototype.remove=function(type,listener,opt_useCapture,opt_listenerScope){var typeStr=type.toString();if(!(typeStr in this.listeners))return!1;var listenerArray=this.listeners[typeStr],index=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,opt_useCapture,opt_listenerScope);return-1<index?(JSCompiler_StaticMethods_markAsRemoved(listenerArray[index]),goog$asserts$assert(null!=listenerArray.length),Array.prototype.splice.call(listenerArray,index,1),0==listenerArray.length&&
(delete this.listeners[typeStr],this.typeCount_--),!0):!1};
var JSCompiler_StaticMethods_removeByKey=function(JSCompiler_StaticMethods_removeByKey$self,listener){var type=listener.type;type in JSCompiler_StaticMethods_removeByKey$self.listeners&&goog$array$remove(JSCompiler_StaticMethods_removeByKey$self.listeners[type],listener)&&(JSCompiler_StaticMethods_markAsRemoved(listener),0==JSCompiler_StaticMethods_removeByKey$self.listeners[type].length&&(delete JSCompiler_StaticMethods_removeByKey$self.listeners[type],JSCompiler_StaticMethods_removeByKey$self.typeCount_--))};
goog$events$ListenerMap.prototype.removeAll=function(opt_type){var typeStr=opt_type&&opt_type.toString(),count=0,type;for(type in this.listeners)if(!typeStr||type==typeStr){for(var listenerArray=this.listeners[type],i=0;i<listenerArray.length;i++)++count,JSCompiler_StaticMethods_markAsRemoved(listenerArray[i]);delete this.listeners[type];this.typeCount_--}return count};
goog$events$ListenerMap.prototype.getListener=function(type,listener,capture,opt_listenerScope){var listenerArray=this.listeners[type.toString()],i=-1;listenerArray&&(i=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,capture,opt_listenerScope));return-1<i?listenerArray[i]:null};
goog$events$ListenerMap.prototype.hasListener=function(opt_type,opt_capture){var hasType=void 0!==opt_type,typeStr=hasType?opt_type.toString():"",hasCapture=void 0!==opt_capture;return goog$object$some(this.listeners,function(listenerArray){for(var i=0;i<listenerArray.length;++i)if(!(hasType&&listenerArray[i].type!=typeStr||hasCapture&&listenerArray[i].capture!=opt_capture))return!0;return!1})};
var goog$events$ListenerMap$findListenerIndex_=function(listenerArray,listener,opt_useCapture,opt_listenerScope){for(var i=0;i<listenerArray.length;++i){var listenerObj=listenerArray[i];if(!listenerObj.removed&&listenerObj.listener==listener&&listenerObj.capture==!!opt_useCapture&&listenerObj.handler==opt_listenerScope)return i}return-1};var goog$events$LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0),goog$events$onStringMap_={},goog$events$listenerCountEstimate_=0,goog$events$listen=function(src,type,listener,opt_options,opt_handler){if(opt_options&&opt_options.once)goog$events$listenOnce(src,type,listener,opt_options,opt_handler);else if(goog$isArray(type))for(var i=0;i<type.length;i++)goog$events$listen(src,type[i],listener,opt_options,opt_handler);else listener=goog$events$wrapListener(listener),src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP]?
src.listen(type,listener,goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,opt_handler):goog$events$listen_(src,type,listener,!1,opt_options,opt_handler)},goog$events$listen_=function(src,type,listener,callOnce,opt_options,opt_handler){if(!type)throw Error("Invalid event type");var capture=goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,listenerMap=goog$events$getListenerMap_(src);listenerMap||(src[goog$events$LISTENER_MAP_PROP_]=listenerMap=new goog$events$ListenerMap(src));
var listenerObj=listenerMap.add(type,listener,callOnce,capture,opt_handler);if(!listenerObj.proxy){var proxy=goog$events$getProxy();listenerObj.proxy=proxy;proxy.src=src;proxy.listener=listenerObj;if(src.addEventListener)goog$events$BrowserFeature$PASSIVE_EVENTS||(opt_options=capture),void 0===opt_options&&(opt_options=!1),src.addEventListener(type.toString(),proxy,opt_options);else if(src.attachEvent)src.attachEvent(goog$events$getOnString_(type.toString()),proxy);else if(src.addListener&&src.removeListener)goog$asserts$assert("change"===
type,"MediaQueryList only has a change event"),src.addListener(proxy);else throw Error("addEventListener and attachEvent are unavailable.");goog$events$listenerCountEstimate_++}},goog$events$getProxy=function(){var proxyCallbackFunction=goog$events$handleBrowserEvent_,f=goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT?function(eventObject){return proxyCallbackFunction.call(f.src,f.listener,eventObject)}:function(eventObject){var v=proxyCallbackFunction.call(f.src,f.listener,eventObject);if(!v)return v};
return f},goog$events$listenOnce=function(src,type,listener,opt_options,opt_handler){if(goog$isArray(type))for(var i=0;i<type.length;i++)goog$events$listenOnce(src,type[i],listener,opt_options,opt_handler);else listener=goog$events$wrapListener(listener),src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP]?src.eventTargetListeners_.add(String(type),listener,!0,goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,opt_handler):goog$events$listen_(src,type,listener,!0,opt_options,opt_handler)},
goog$events$unlisten=function(src,type,listener,opt_options,opt_handler){if(goog$isArray(type))for(var i=0;i<type.length;i++)goog$events$unlisten(src,type[i],listener,opt_options,opt_handler);else{var capture=goog$isObject(opt_options)?!!opt_options.capture:!!opt_options;listener=goog$events$wrapListener(listener);if(src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP])src.eventTargetListeners_.remove(String(type),listener,capture,opt_handler);else if(src){var listenerMap=goog$events$getListenerMap_(src);
if(listenerMap){var listenerObj=listenerMap.getListener(type,listener,capture,opt_handler);listenerObj&&goog$events$unlistenByKey(listenerObj)}}}},goog$events$unlistenByKey=function(key){if(!goog$isNumber(key)&&key&&!key.removed){var src=key.src;if(src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP])JSCompiler_StaticMethods_removeByKey(src.eventTargetListeners_,key);else{var type=key.type,proxy=key.proxy;src.removeEventListener?src.removeEventListener(type,proxy,key.capture):src.detachEvent?src.detachEvent(goog$events$getOnString_(type),
proxy):src.addListener&&src.removeListener&&src.removeListener(proxy);goog$events$listenerCountEstimate_--;var listenerMap=goog$events$getListenerMap_(src);listenerMap?(JSCompiler_StaticMethods_removeByKey(listenerMap,key),0==listenerMap.typeCount_&&(listenerMap.src=null,src[goog$events$LISTENER_MAP_PROP_]=null)):JSCompiler_StaticMethods_markAsRemoved(key)}}},goog$events$getOnString_=function(type){return type in goog$events$onStringMap_?goog$events$onStringMap_[type]:goog$events$onStringMap_[type]=
"on"+type},goog$events$fireListeners_=function(obj,type,capture,eventObject){var retval=!0,listenerMap=goog$events$getListenerMap_(obj);if(listenerMap){var listenerArray=listenerMap.listeners[type.toString()];if(listenerArray){listenerArray=listenerArray.concat();for(var i=0;i<listenerArray.length;i++){var listener=listenerArray[i];if(listener&&listener.capture==capture&&!listener.removed){var result=goog$events$fireListener(listener,eventObject);retval=retval&&!1!==result}}}}return retval},goog$events$fireListener=
function(listener,eventObject){var listenerFn=listener.listener,listenerHandler=listener.handler||listener.src;listener.callOnce&&goog$events$unlistenByKey(listener);return listenerFn.call(listenerHandler,eventObject)},goog$events$handleBrowserEvent_=function(listener,opt_evt){if(listener.removed)return!0;if(!goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT){var JSCompiler_temp;if(!(JSCompiler_temp=opt_evt))a:{for(var parts=["window","event"],cur=goog$global,i=0;i<parts.length;i++)if(cur=cur[parts[i]],
null==cur){JSCompiler_temp=null;break a}JSCompiler_temp=cur}var ieEvent=JSCompiler_temp,evt=new goog$events$BrowserEvent(ieEvent,this),retval=!0;if(!(0>ieEvent.keyCode||void 0!=ieEvent.returnValue)){a:{var useReturnValue=!1;if(0==ieEvent.keyCode)try{ieEvent.keyCode=-1;break a}catch(ex){useReturnValue=!0}if(useReturnValue||void 0==ieEvent.returnValue)ieEvent.returnValue=!0}for(var ancestors=[],parent=evt.currentTarget;parent;parent=parent.parentNode)ancestors.push(parent);for(var type=listener.type,
i$jscomp$0=ancestors.length-1;!evt.propagationStopped_&&0<=i$jscomp$0;i$jscomp$0--){evt.currentTarget=ancestors[i$jscomp$0];var result=goog$events$fireListeners_(ancestors[i$jscomp$0],type,!0,evt);retval=retval&&result}for(i$jscomp$0=0;!evt.propagationStopped_&&i$jscomp$0<ancestors.length;i$jscomp$0++)evt.currentTarget=ancestors[i$jscomp$0],result=goog$events$fireListeners_(ancestors[i$jscomp$0],type,!1,evt),retval=retval&&result}return retval}return goog$events$fireListener(listener,new goog$events$BrowserEvent(opt_evt,
this))},goog$events$getListenerMap_=function(src){var listenerMap=src[goog$events$LISTENER_MAP_PROP_];return listenerMap instanceof goog$events$ListenerMap?listenerMap:null},goog$events$LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0),goog$events$wrapListener=function(listener){goog$asserts$assert(listener,"Listener can not be null.");if(goog$isFunction(listener))return listener;goog$asserts$assert(listener.handleEvent,"An object listener must have handleEvent method.");listener[goog$events$LISTENER_WRAPPER_PROP_]||
(listener[goog$events$LISTENER_WRAPPER_PROP_]=function(e){return listener.handleEvent(e)});return listener[goog$events$LISTENER_WRAPPER_PROP_]};var goog$events$EventTarget=function(){goog$Disposable.call(this);this.eventTargetListeners_=new goog$events$ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};goog$inherits(goog$events$EventTarget,goog$Disposable);goog$events$EventTarget.prototype[goog$events$Listenable$IMPLEMENTED_BY_PROP]=!0;goog$events$EventTarget.prototype.addEventListener=function(type,handler,opt_capture,opt_handlerScope){goog$events$listen(this,type,handler,opt_capture,opt_handlerScope)};
goog$events$EventTarget.prototype.removeEventListener=function(type,handler,opt_capture,opt_handlerScope){goog$events$unlisten(this,type,handler,opt_capture,opt_handlerScope)};
goog$events$EventTarget.prototype.dispatchEvent=function(e$jscomp$0){JSCompiler_StaticMethods_assertInitialized_(this);var ancestor=this.parentEventTarget_;if(ancestor){var ancestorsTree=[];for(var ancestorCount=1;ancestor;ancestor=ancestor.parentEventTarget_)ancestorsTree.push(ancestor),goog$asserts$assert(1E3>++ancestorCount,"infinite loop")}var target=this.actualEventTarget_,e=e$jscomp$0,opt_ancestorsTree=ancestorsTree,type=e.type||e;if(goog$isString(e))e=new goog$events$Event(e,target);else if(e instanceof
goog$events$Event)e.target=e.target||target;else{var oldEvent=e;e=new goog$events$Event(type,target);goog$object$extend(e,oldEvent)}var rv=!0;if(opt_ancestorsTree)for(var i=opt_ancestorsTree.length-1;!e.propagationStopped_&&0<=i;i--){var currentTarget=e.currentTarget=opt_ancestorsTree[i];rv=JSCompiler_StaticMethods_fireListeners(currentTarget,type,!0,e)&&rv}e.propagationStopped_||(currentTarget=e.currentTarget=target,rv=JSCompiler_StaticMethods_fireListeners(currentTarget,type,!0,e)&&rv,e.propagationStopped_||
(rv=JSCompiler_StaticMethods_fireListeners(currentTarget,type,!1,e)&&rv));if(opt_ancestorsTree)for(i=0;!e.propagationStopped_&&i<opt_ancestorsTree.length;i++)currentTarget=e.currentTarget=opt_ancestorsTree[i],rv=JSCompiler_StaticMethods_fireListeners(currentTarget,type,!1,e)&&rv;return rv};
goog$events$EventTarget.prototype.disposeInternal=function(){goog$events$EventTarget.superClass_.disposeInternal.call(this);this.eventTargetListeners_&&this.eventTargetListeners_.removeAll(void 0);this.parentEventTarget_=null};goog$events$EventTarget.prototype.listen=function(type,listener,opt_useCapture,opt_listenerScope){JSCompiler_StaticMethods_assertInitialized_(this);return this.eventTargetListeners_.add(String(type),listener,!1,opt_useCapture,opt_listenerScope)};
var JSCompiler_StaticMethods_fireListeners=function(JSCompiler_StaticMethods_fireListeners$self,type,capture,eventObject){var listenerArray=JSCompiler_StaticMethods_fireListeners$self.eventTargetListeners_.listeners[String(type)];if(!listenerArray)return!0;listenerArray=listenerArray.concat();for(var rv=!0,i=0;i<listenerArray.length;++i){var listener=listenerArray[i];if(listener&&!listener.removed&&listener.capture==capture){var listenerFn=listener.listener,listenerHandler=listener.handler||listener.src;
listener.callOnce&&JSCompiler_StaticMethods_removeByKey(JSCompiler_StaticMethods_fireListeners$self.eventTargetListeners_,listener);rv=!1!==listenerFn.call(listenerHandler,eventObject)&&rv}}return rv&&0!=eventObject.returnValue_};goog$events$EventTarget.prototype.getListener=function(type,listener,capture,opt_listenerScope){return this.eventTargetListeners_.getListener(String(type),listener,capture,opt_listenerScope)};
goog$events$EventTarget.prototype.hasListener=function(opt_type,opt_capture){return this.eventTargetListeners_.hasListener(void 0!==opt_type?String(opt_type):void 0,opt_capture)};var JSCompiler_StaticMethods_assertInitialized_=function(JSCompiler_StaticMethods_assertInitialized_$self){goog$asserts$assert(JSCompiler_StaticMethods_assertInitialized_$self.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var goog$functions$NULL=function(retValue){return function(){return retValue}}(null);var goog$Timer$callOnce=function(listener,opt_delay,opt_handler){if(goog$isFunction(listener))opt_handler&&(listener=goog$bind(listener,opt_handler));else if(listener&&"function"==typeof listener.handleEvent)listener=goog$bind(listener.handleEvent,listener);else throw Error("Invalid listener argument");return 2147483647<Number(opt_delay)?-1:goog$global.setTimeout(listener,opt_delay||0)};var goog$async$Delay=function(listener,opt_interval,opt_handler){goog$Disposable.call(this);this.listener_=listener;this.interval_=opt_interval||0;this.handler_=opt_handler;this.callback_=goog$bind(this.doAction_,this)};goog$inherits(goog$async$Delay,goog$Disposable);goog$async$Delay.prototype.id_=0;goog$async$Delay.prototype.disposeInternal=function(){goog$async$Delay.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};
goog$async$Delay.prototype.start=function(opt_interval){this.stop();this.id_=goog$Timer$callOnce(this.callback_,void 0!==opt_interval?opt_interval:this.interval_)};goog$async$Delay.prototype.stop=function(){this.isActive()&&goog$global.clearTimeout(this.id_);this.id_=0};goog$async$Delay.prototype.isActive=function(){return 0!=this.id_};goog$async$Delay.prototype.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var goog$crypt$stringToByteArray=function(str){for(var output=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);255<c&&(output[p++]=c&255,c>>=8);output[p++]=c}return output};goog$userAgent.product={};goog$userAgent.product.ASSUME_FIREFOX=!1;goog$userAgent.product.ASSUME_IPHONE=!1;goog$userAgent.product.ASSUME_IPAD=!1;goog$userAgent.product.ASSUME_ANDROID=!1;goog$userAgent.product.ASSUME_CHROME=!1;goog$userAgent.product.ASSUME_SAFARI=!1;
goog$userAgent.product.PRODUCT_KNOWN_=goog$userAgent.ASSUME_IE||goog$userAgent.ASSUME_EDGE||goog$userAgent.ASSUME_OPERA||goog$userAgent.product.ASSUME_FIREFOX||goog$userAgent.product.ASSUME_IPHONE||goog$userAgent.product.ASSUME_IPAD||goog$userAgent.product.ASSUME_ANDROID||goog$userAgent.product.ASSUME_CHROME||goog$userAgent.product.ASSUME_SAFARI;goog$userAgent.product.OPERA=goog$userAgent.OPERA;goog$userAgent.product.IE=goog$userAgent.IE;goog$userAgent.product.EDGE=goog$userAgent.EDGE;
goog$userAgent.product.FIREFOX=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_FIREFOX:goog$labs$userAgent$util$matchUserAgent("Firefox");goog$userAgent.product.isIphoneOrIpod_=function(){return goog$labs$userAgent$platform$isIphone()||goog$labs$userAgent$util$matchUserAgent("iPod")};goog$userAgent.product.IPHONE=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_IPHONE:goog$userAgent.product.isIphoneOrIpod_();
goog$userAgent.product.IPAD=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_IPAD:goog$labs$userAgent$util$matchUserAgent("iPad");goog$userAgent.product.ANDROID=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_ANDROID:goog$labs$userAgent$util$matchUserAgent("Android")&&!(goog$labs$userAgent$browser$matchChrome_()||goog$labs$userAgent$util$matchUserAgent("Firefox")||goog$labs$userAgent$util$matchUserAgent("Opera")||goog$labs$userAgent$util$matchUserAgent("Silk"));
goog$userAgent.product.CHROME=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_CHROME:goog$labs$userAgent$browser$matchChrome_();
goog$userAgent.product.isSafariDesktop_=function(){return goog$labs$userAgent$util$matchUserAgent("Safari")&&!(goog$labs$userAgent$browser$matchChrome_()||goog$labs$userAgent$util$matchUserAgent("Coast")||goog$labs$userAgent$util$matchUserAgent("Opera")||goog$labs$userAgent$util$matchUserAgent("Edge")||goog$labs$userAgent$util$matchUserAgent("Silk")||goog$labs$userAgent$util$matchUserAgent("Android"))&&!(goog$labs$userAgent$platform$isIphone()||goog$labs$userAgent$util$matchUserAgent("iPad")||goog$labs$userAgent$util$matchUserAgent("iPod"))};
goog$userAgent.product.SAFARI=goog$userAgent.product.PRODUCT_KNOWN_?goog$userAgent.product.ASSUME_SAFARI:goog$userAgent.product.isSafariDesktop_();var goog$crypt$base64$byteToCharMap_=null,goog$crypt$base64$charToByteMap_=null,goog$crypt$base64$byteToCharMapWebSafe_=null,goog$crypt$base64$decodeStringToByteArray=function(input){var output=[];goog$crypt$base64$decodeStringInternal_(input,function(b){output.push(b)});return output},goog$crypt$base64$decodeStringInternal_=function(input,pushByte){function getByte(default_val){for(;nextCharIndex<input.length;){var ch=input.charAt(nextCharIndex++),b=goog$crypt$base64$charToByteMap_[ch];if(null!=
b)return b;if(!goog$string$isEmptyOrWhitespace(ch))throw Error("Unknown base64 encoding at char: "+ch);}return default_val}goog$crypt$base64$init_();for(var nextCharIndex=0;;){var byte1=getByte(-1),byte2=getByte(0),byte3=getByte(64),byte4=getByte(64);if(64===byte4&&-1===byte1)break;pushByte(byte1<<2|byte2>>4);64!=byte3&&(pushByte(byte2<<4&240|byte3>>2),64!=byte4&&pushByte(byte3<<6&192|byte4))}},goog$crypt$base64$init_=function(){if(!goog$crypt$base64$byteToCharMap_){goog$crypt$base64$byteToCharMap_=
{};goog$crypt$base64$charToByteMap_={};goog$crypt$base64$byteToCharMapWebSafe_={};for(var i=0;65>i;i++)goog$crypt$base64$byteToCharMap_[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i),goog$crypt$base64$charToByteMap_[goog$crypt$base64$byteToCharMap_[i]]=i,goog$crypt$base64$byteToCharMapWebSafe_[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(i),62<=i&&(goog$crypt$base64$charToByteMap_["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(i)]=
i)}};var goog$debug$LogRecord=function(level,msg,loggerName){this.reset(level,msg,loggerName,void 0,void 0)};goog$debug$LogRecord.prototype.exception_=null;var goog$debug$LogRecord$nextSequenceNumber_=0;goog$debug$LogRecord.prototype.reset=function(level,msg,loggerName,opt_time,opt_sequenceNumber){"number"==typeof opt_sequenceNumber||goog$debug$LogRecord$nextSequenceNumber_++;opt_time||goog$now();this.level_=level;this.msg_=msg;delete this.exception_};
goog$debug$LogRecord.prototype.setLevel=function(level){this.level_=level};goog$debug$LogRecord.prototype.getMessage=function(){return this.msg_};var goog$debug$Logger=function(name){this.name_=name;this.handlers_=this.children_=this.level_=this.parent_=null},goog$debug$Logger$Level=function(name,value){this.name=name;this.value=value};goog$debug$Logger$Level.prototype.toString=function(){return this.name};
var goog$debug$Logger$Level$SEVERE=new goog$debug$Logger$Level("SEVERE",1E3),goog$debug$Logger$Level$WARNING=new goog$debug$Logger$Level("WARNING",900),goog$debug$Logger$Level$INFO=new goog$debug$Logger$Level("INFO",800),goog$debug$Logger$Level$CONFIG=new goog$debug$Logger$Level("CONFIG",700),goog$debug$Logger$Level$FINE=new goog$debug$Logger$Level("FINE",500);goog$debug$Logger.prototype.getName=function(){return this.name_};goog$debug$Logger.prototype.getParent=function(){return this.parent_};
goog$debug$Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};goog$debug$Logger.prototype.setLevel=function(level){this.level_=level};
var JSCompiler_StaticMethods_getEffectiveLevel=function(JSCompiler_StaticMethods_getEffectiveLevel$self){if(JSCompiler_StaticMethods_getEffectiveLevel$self.level_)return JSCompiler_StaticMethods_getEffectiveLevel$self.level_;if(JSCompiler_StaticMethods_getEffectiveLevel$self.parent_)return JSCompiler_StaticMethods_getEffectiveLevel(JSCompiler_StaticMethods_getEffectiveLevel$self.parent_);goog$asserts$fail("Root logger has no level set.");return null};
goog$debug$Logger.prototype.log=function(level,msg,opt_exception){if(level.value>=JSCompiler_StaticMethods_getEffectiveLevel(this).value){goog$isFunction(msg)&&(msg=msg());var logRecord=new goog$debug$LogRecord(level,String(msg),this.name_);opt_exception&&(logRecord.exception_=opt_exception);for(var target=this;target;){var handler,JSCompiler_StaticMethods_callPublish_$self=target,logRecord$jscomp$0=logRecord;if(JSCompiler_StaticMethods_callPublish_$self.handlers_)for(var i=0;handler=JSCompiler_StaticMethods_callPublish_$self.handlers_[i];i++)handler(logRecord$jscomp$0);
target=target.getParent()}}};goog$debug$Logger.prototype.info=function(msg,opt_exception){this.log(goog$debug$Logger$Level$INFO,msg,opt_exception)};goog$debug$Logger.prototype.config=function(msg,opt_exception){this.log(goog$debug$Logger$Level$CONFIG,msg,opt_exception)};
var goog$debug$LogManager$loggers_={},goog$debug$LogManager$rootLogger_=null,goog$debug$LogManager$getLogger=function(name){goog$debug$LogManager$rootLogger_||(goog$debug$LogManager$rootLogger_=new goog$debug$Logger(""),goog$debug$LogManager$loggers_[""]=goog$debug$LogManager$rootLogger_,goog$debug$LogManager$rootLogger_.setLevel(goog$debug$Logger$Level$CONFIG));var JSCompiler_temp;if(!(JSCompiler_temp=goog$debug$LogManager$loggers_[name])){var logger=new goog$debug$Logger(name),lastDotIndex=name.lastIndexOf("."),
leafName=name.substr(lastDotIndex+1),parentLogger=goog$debug$LogManager$getLogger(name.substr(0,lastDotIndex));parentLogger.getChildren()[leafName]=logger;logger.parent_=parentLogger;JSCompiler_temp=goog$debug$LogManager$loggers_[name]=logger}return JSCompiler_temp};var goog$iter$StopIteration="StopIteration"in goog$global?goog$global.StopIteration:{message:"StopIteration",stack:""},goog$iter$Iterator=function(){};goog$iter$Iterator.prototype.next=function(){throw goog$iter$StopIteration;};goog$iter$Iterator.prototype.__iterator__=function(){return this};
var goog$iter$toIterator=function(iterable){if(iterable instanceof goog$iter$Iterator)return iterable;if("function"==typeof iterable.__iterator__)return iterable.__iterator__(!1);if(goog$isArrayLike(iterable)){var i=0,newIter=new goog$iter$Iterator;newIter.next=function(){for(;;){if(i>=iterable.length)throw goog$iter$StopIteration;if(i in iterable)return iterable[i++];i++}};return newIter}throw Error("Not implemented");},goog$iter$forEach=function(iterable,f){if(goog$isArrayLike(iterable))try{goog$array$forEach(iterable,
f,void 0)}catch(ex){if(ex!==goog$iter$StopIteration)throw ex;}else{iterable=goog$iter$toIterator(iterable);try{for(;;)f.call(void 0,iterable.next(),void 0,iterable)}catch(ex$2){if(ex$2!==goog$iter$StopIteration)throw ex$2;}}},goog$iter$filter=function(iterable){var f=module$contents$security$asserts$assert_nodeFilter_,iterator=goog$iter$toIterator(iterable),newIter=new goog$iter$Iterator;newIter.next=function(){for(;;){var val=iterator.next();if(f.call(void 0,val,void 0,iterator))return val}};return newIter},
goog$iter$map=function(iterable){var f=module$contents$security$asserts$assert_endTagMap_,iterator=goog$iter$toIterator(iterable),newIter=new goog$iter$Iterator;newIter.next=function(){var val=iterator.next();return f.call(void 0,val,void 0,iterator)};return newIter},goog$iter$nextOrValue=function(iterable){try{return goog$iter$toIterator(iterable).next()}catch(e){if(e!=goog$iter$StopIteration)throw e;return null}};var goog$log$fine=function(logger,msg){logger&&logger.log(goog$debug$Logger$Level$FINE,msg,void 0)};var goog$net$XmlHttpFactory=function(){};goog$net$XmlHttpFactory.prototype.cachedOptions_=null;var JSCompiler_StaticMethods_getOptions=function(JSCompiler_StaticMethods_getOptions$self){var JSCompiler_temp;if(!(JSCompiler_temp=JSCompiler_StaticMethods_getOptions$self.cachedOptions_)){var options={};JSCompiler_StaticMethods_getProgId_(JSCompiler_StaticMethods_getOptions$self)&&(options[0]=!0,options[1]=!0);JSCompiler_temp=JSCompiler_StaticMethods_getOptions$self.cachedOptions_=options}return JSCompiler_temp};var goog$net$XmlHttp$factory_,goog$net$DefaultXmlHttpFactory=function(){};goog$inherits(goog$net$DefaultXmlHttpFactory,goog$net$XmlHttpFactory);
var JSCompiler_StaticMethods_createInstance=function(JSCompiler_StaticMethods_createInstance$self){var progId=JSCompiler_StaticMethods_getProgId_(JSCompiler_StaticMethods_createInstance$self);return progId?new ActiveXObject(progId):new XMLHttpRequest},JSCompiler_StaticMethods_getProgId_=function(JSCompiler_StaticMethods_getProgId_$self){if(!JSCompiler_StaticMethods_getProgId_$self.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var ACTIVE_X_IDENTS=["MSXML2.XMLHTTP.6.0",
"MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],i=0;i<ACTIVE_X_IDENTS.length;i++){var candidate=ACTIVE_X_IDENTS[i];try{return new ActiveXObject(candidate),JSCompiler_StaticMethods_getProgId_$self.ieProgId_=candidate}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return JSCompiler_StaticMethods_getProgId_$self.ieProgId_};goog$net$XmlHttp$factory_=new goog$net$DefaultXmlHttpFactory;var goog$structs$Map=function(opt_map,var_args){this.map_={};this.keys_=[];this.version_=this.count_=0;var argLength=arguments.length;if(1<argLength){if(argLength%2)throw Error("Uneven number of arguments");for(var i=0;i<argLength;i+=2)this.set(arguments[i],arguments[i+1])}else opt_map&&this.addAll(opt_map)};goog$structs$Map.prototype.getValues=function(){JSCompiler_StaticMethods_cleanupKeysArray_(this);for(var rv=[],i=0;i<this.keys_.length;i++)rv.push(this.map_[this.keys_[i]]);return rv};
goog$structs$Map.prototype.getKeys=function(){JSCompiler_StaticMethods_cleanupKeysArray_(this);return this.keys_.concat()};goog$structs$Map.prototype.equals=function(otherMap,opt_equalityFn){if(this===otherMap)return!0;if(this.count_!=otherMap.count_)return!1;var equalityFn=opt_equalityFn||goog$structs$Map$defaultEquals;JSCompiler_StaticMethods_cleanupKeysArray_(this);for(var key,i=0;key=this.keys_[i];i++)if(!equalityFn(this.get(key),otherMap.get(key)))return!1;return!0};
var goog$structs$Map$defaultEquals=function(a,b){return a===b};goog$structs$Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};goog$structs$Map.prototype.remove=function(key){return Object.prototype.hasOwnProperty.call(this.map_,key)?(delete this.map_[key],this.count_--,this.version_++,this.keys_.length>2*this.count_&&JSCompiler_StaticMethods_cleanupKeysArray_(this),!0):!1};
var JSCompiler_StaticMethods_cleanupKeysArray_=function(JSCompiler_StaticMethods_cleanupKeysArray_$self){if(JSCompiler_StaticMethods_cleanupKeysArray_$self.count_!=JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length){for(var srcIndex=0,destIndex=0;srcIndex<JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length;){var key=JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_[srcIndex];Object.prototype.hasOwnProperty.call(JSCompiler_StaticMethods_cleanupKeysArray_$self.map_,key)&&(JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_[destIndex++]=
key);srcIndex++}JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length=destIndex}if(JSCompiler_StaticMethods_cleanupKeysArray_$self.count_!=JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length){var seen={};for(destIndex=srcIndex=0;srcIndex<JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length;)key=JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_[srcIndex],Object.prototype.hasOwnProperty.call(seen,key)||(JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_[destIndex++]=key,
seen[key]=1),srcIndex++;JSCompiler_StaticMethods_cleanupKeysArray_$self.keys_.length=destIndex}};goog$structs$Map.prototype.get=function(key,opt_val){return Object.prototype.hasOwnProperty.call(this.map_,key)?this.map_[key]:opt_val};goog$structs$Map.prototype.set=function(key,value){Object.prototype.hasOwnProperty.call(this.map_,key)||(this.count_++,this.keys_.push(key),this.version_++);this.map_[key]=value};
goog$structs$Map.prototype.addAll=function(map){if(map instanceof goog$structs$Map)for(var keys=map.getKeys(),i=0;i<keys.length;i++)this.set(keys[i],map.get(keys[i]));else for(var key in map)this.set(key,map[key])};goog$structs$Map.prototype.forEach=function(f,opt_obj){for(var keys=this.getKeys(),i=0;i<keys.length;i++){var key=keys[i],value=this.get(key);f.call(opt_obj,value,key,this)}};goog$structs$Map.prototype.clone=function(){return new goog$structs$Map(this)};
goog$structs$Map.prototype.__iterator__=function(opt_keys){JSCompiler_StaticMethods_cleanupKeysArray_(this);var i=0,version=this.version_,selfObj=this,newIter=new goog$iter$Iterator;newIter.next=function(){if(version!=selfObj.version_)throw Error("The map has changed since the iterator was created");if(i>=selfObj.keys_.length)throw goog$iter$StopIteration;var key=selfObj.keys_[i++];return opt_keys?key:selfObj.map_[key]};return newIter};var goog$structs$getValues=function(col){if(col.getValues&&"function"==typeof col.getValues)return col.getValues();if(goog$isString(col))return col.split("");if(goog$isArrayLike(col)){for(var rv=[],l=col.length,i=0;i<l;i++)rv.push(col[i]);return rv}var res=[],i$jscomp$0=0,key;for(key in col)res[i$jscomp$0++]=col[key];return res},goog$structs$forEach=function(col,f){if(col.forEach&&"function"==typeof col.forEach)col.forEach(f,void 0);else if(goog$isArrayLike(col)||goog$isString(col))goog$array$forEach(col,
f,void 0);else{if(col.getKeys&&"function"==typeof col.getKeys)var keys=col.getKeys();else if(col.getValues&&"function"==typeof col.getValues)keys=void 0;else if(goog$isArrayLike(col)||goog$isString(col)){for(var rv=[],l=col.length,i=0;i<l;i++)rv.push(i);keys=rv}else keys=goog$object$getKeys(col);for(var values=goog$structs$getValues(col),l$jscomp$0=values.length,i$jscomp$0=0;i$jscomp$0<l$jscomp$0;i$jscomp$0++)f.call(void 0,values[i$jscomp$0],keys&&keys[i$jscomp$0],col)}};var goog$uri$utils$splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;var goog$net$XhrIo=function(opt_xmlHttpFactory){goog$events$EventTarget.call(this);this.headers=new goog$structs$Map;this.xmlHttpFactory_=opt_xmlHttpFactory||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastError_=this.lastMethod_=this.lastUri_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_="";this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};goog$inherits(goog$net$XhrIo,goog$events$EventTarget);
goog$net$XhrIo.prototype.logger_=goog$debug$LogManager$getLogger("goog.net.XhrIo");var goog$net$XhrIo$HTTP_SCHEME_PATTERN=/^https?$/i,goog$net$XhrIo$METHODS_WITH_FORM_DATA=["POST","PUT"],goog$net$XhrIo$sendInstances_=[];goog$net$XhrIo.prototype.cleanupSend_=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal());goog$array$remove(goog$net$XhrIo$sendInstances_,this)};
goog$net$XhrIo.prototype.send=function(url,opt_method,opt_content,opt_headers){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+url);var method=opt_method?opt_method.toUpperCase():"GET";this.lastUri_=url;this.lastError_="";this.lastMethod_=method;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.xmlHttpFactory_?JSCompiler_StaticMethods_createInstance(this.xmlHttpFactory_):JSCompiler_StaticMethods_createInstance(goog$net$XmlHttp$factory_);
this.xhrOptions_=this.xmlHttpFactory_?JSCompiler_StaticMethods_getOptions(this.xmlHttpFactory_):JSCompiler_StaticMethods_getOptions(goog$net$XmlHttp$factory_);this.xhr_.onreadystatechange=goog$bind(this.onReadyStateChange_,this);this.progressEventsEnabled_&&"onprogress"in this.xhr_&&(this.xhr_.onprogress=goog$bind(function(e){this.onProgressHandler_(e,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=goog$bind(this.onProgressHandler_,this)));try{goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,
"Opening Xhr")),this.inOpen_=!0,this.xhr_.open(method,String(url),!0),this.inOpen_=!1}catch(err){goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,"Error opening Xhr: "+err.message));JSCompiler_StaticMethods_error_(this,err);return}var content=opt_content||"",headers=this.headers.clone();opt_headers&&goog$structs$forEach(opt_headers,function(value,key){headers.set(key,value)});var contentTypeKey=goog$array$find(headers.getKeys()),contentIsFormData=goog$global.FormData&&content instanceof
goog$global.FormData;!(0<=goog$array$indexOf(goog$net$XhrIo$METHODS_WITH_FORM_DATA,method))||contentTypeKey||contentIsFormData||headers.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");headers.forEach(function(value,key){this.xhr_.setRequestHeader(key,value)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{JSCompiler_StaticMethods_cleanUpTimeoutTimer_(this),
0<this.timeoutInterval_&&(this.useXhr2Timeout_=goog$net$XhrIo$shouldUseXhr2Timeout_(this.xhr_),goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,"Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=goog$bind(this.timeout_,this)):this.timeoutId_=goog$Timer$callOnce(this.timeout_,this.timeoutInterval_,this)),goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,
"Sending request")),this.inSend_=!0,this.xhr_.send(content),this.inSend_=!1}catch(err$4){goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,"Send error: "+err$4.message)),JSCompiler_StaticMethods_error_(this,err$4)}};var goog$net$XhrIo$shouldUseXhr2Timeout_=function(xhr){return goog$userAgent.IE&&goog$userAgent.isVersionOrHigher(9)&&goog$isNumber(xhr.timeout)&&void 0!==xhr.ontimeout},goog$net$XhrIo$isContentTypeHeader_=function(header){return"content-type"==header.toLowerCase()};
goog$net$XhrIo.prototype.timeout_=function(){"undefined"!=typeof goog&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,this.lastError_)),this.dispatchEvent("timeout"),this.abort(8))};
var JSCompiler_StaticMethods_error_=function(JSCompiler_StaticMethods_error_$self,err){JSCompiler_StaticMethods_error_$self.active_=!1;JSCompiler_StaticMethods_error_$self.xhr_&&(JSCompiler_StaticMethods_error_$self.inAbort_=!0,JSCompiler_StaticMethods_error_$self.xhr_.abort(),JSCompiler_StaticMethods_error_$self.inAbort_=!1);JSCompiler_StaticMethods_error_$self.lastError_=err;JSCompiler_StaticMethods_dispatchErrors_(JSCompiler_StaticMethods_error_$self);JSCompiler_StaticMethods_cleanUpXhr_(JSCompiler_StaticMethods_error_$self)},
JSCompiler_StaticMethods_dispatchErrors_=function(JSCompiler_StaticMethods_dispatchErrors_$self){JSCompiler_StaticMethods_dispatchErrors_$self.errorDispatched_||(JSCompiler_StaticMethods_dispatchErrors_$self.errorDispatched_=!0,JSCompiler_StaticMethods_dispatchErrors_$self.dispatchEvent("complete"),JSCompiler_StaticMethods_dispatchErrors_$self.dispatchEvent("error"))};
goog$net$XhrIo.prototype.abort=function(){this.xhr_&&this.active_&&(goog$log$fine(this.logger_,JSCompiler_StaticMethods_formatMsg_(this,"Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),JSCompiler_StaticMethods_cleanUpXhr_(this))};
goog$net$XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),JSCompiler_StaticMethods_cleanUpXhr_(this,!0));goog$net$XhrIo.superClass_.disposeInternal.call(this)};goog$net$XhrIo.prototype.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)JSCompiler_StaticMethods_onReadyStateChangeHelper_(this);else this.onReadyStateChangeEntryPoint_()};
goog$net$XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){JSCompiler_StaticMethods_onReadyStateChangeHelper_(this)};
var JSCompiler_StaticMethods_onReadyStateChangeHelper_=function(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self){if(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.active_&&"undefined"!=typeof goog)if(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.xhrOptions_[1]&&4==JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)&&2==JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.getStatus())goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.logger_,
JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self,"Local request error detected and ignored"));else if(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.inSend_&&4==JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self))goog$Timer$callOnce(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.onReadyStateChange_,0,JSCompiler_StaticMethods_onReadyStateChangeHelper_$self);else if(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("readystatechange"),
4==JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)){goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.logger_,JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self,"Request complete"));JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.active_=!1;try{if(JSCompiler_StaticMethods_isSuccess(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self))JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("complete"),
JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("success");else{try{var JSCompiler_inline_result=2<JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)?JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.xhr_.statusText:""}catch(e){goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.logger_,"Can not get status: "+e.message),JSCompiler_inline_result=""}JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.lastError_=
JSCompiler_inline_result+" ["+JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.getStatus()+"]";JSCompiler_StaticMethods_dispatchErrors_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)}}finally{JSCompiler_StaticMethods_cleanUpXhr_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)}}};
goog$net$XhrIo.prototype.onProgressHandler_=function(e,opt_isDownload){goog$asserts$assert("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(goog$net$XhrIo$buildProgressEvent_(e,"progress"));this.dispatchEvent(goog$net$XhrIo$buildProgressEvent_(e,opt_isDownload?"downloadprogress":"uploadprogress"))};
var goog$net$XhrIo$buildProgressEvent_=function(e,eventType){return{type:eventType,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},JSCompiler_StaticMethods_cleanUpXhr_=function(JSCompiler_StaticMethods_cleanUpXhr_$self,opt_fromDispose){if(JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_){JSCompiler_StaticMethods_cleanUpTimeoutTimer_(JSCompiler_StaticMethods_cleanUpXhr_$self);var xhr=JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_,clearedOnReadyStateChange=JSCompiler_StaticMethods_cleanUpXhr_$self.xhrOptions_[0]?
goog$nullFunction:null;JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_=null;JSCompiler_StaticMethods_cleanUpXhr_$self.xhrOptions_=null;opt_fromDispose||JSCompiler_StaticMethods_cleanUpXhr_$self.dispatchEvent("ready");try{xhr.onreadystatechange=clearedOnReadyStateChange}catch(e){var logger=JSCompiler_StaticMethods_cleanUpXhr_$self.logger_;logger&&logger.log(goog$debug$Logger$Level$SEVERE,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},JSCompiler_StaticMethods_cleanUpTimeoutTimer_=
function(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self){JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.xhr_&&JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.useXhr2Timeout_&&(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.xhr_.ontimeout=null);JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_&&(goog$global.clearTimeout(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_),JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_=null)};
goog$net$XhrIo.prototype.isActive=function(){return!!this.xhr_};
var JSCompiler_StaticMethods_isSuccess=function(JSCompiler_StaticMethods_isSuccess$self){var status=JSCompiler_StaticMethods_isSuccess$self.getStatus();a:switch(status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var JSCompiler_inline_result=!0;break a;default:JSCompiler_inline_result=!1}var JSCompiler_temp;if(!(JSCompiler_temp=JSCompiler_inline_result)){var JSCompiler_temp$jscomp$0;if(JSCompiler_temp$jscomp$0=0===status){var scheme=String(JSCompiler_StaticMethods_isSuccess$self.lastUri_).match(goog$uri$utils$splitRe_)[1]||
null;if(!scheme&&goog$global.self&&goog$global.self.location){var protocol=goog$global.self.location.protocol;scheme=protocol.substr(0,protocol.length-1)}JSCompiler_temp$jscomp$0=!goog$net$XhrIo$HTTP_SCHEME_PATTERN.test(scheme?scheme.toLowerCase():"")}JSCompiler_temp=JSCompiler_temp$jscomp$0}return JSCompiler_temp},JSCompiler_StaticMethods_getReadyState=function(JSCompiler_StaticMethods_getReadyState$self){return JSCompiler_StaticMethods_getReadyState$self.xhr_?JSCompiler_StaticMethods_getReadyState$self.xhr_.readyState:
0};goog$net$XhrIo.prototype.getStatus=function(){try{return 2<JSCompiler_StaticMethods_getReadyState(this)?this.xhr_.status:-1}catch(e){return-1}};
var JSCompiler_StaticMethods_getResponseText=function(JSCompiler_StaticMethods_getResponseText$self){try{return JSCompiler_StaticMethods_getResponseText$self.xhr_?JSCompiler_StaticMethods_getResponseText$self.xhr_.responseText:""}catch(e){return goog$log$fine(JSCompiler_StaticMethods_getResponseText$self.logger_,"Can not get responseText: "+e.message),""}};
goog$net$XhrIo.prototype.getResponseHeader=function(key){if(this.xhr_&&4==JSCompiler_StaticMethods_getReadyState(this)){var value=this.xhr_.getResponseHeader(key);return null===value?void 0:value}};goog$net$XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&4==JSCompiler_StaticMethods_getReadyState(this)?this.xhr_.getAllResponseHeaders()||"":""};
var JSCompiler_StaticMethods_formatMsg_=function(JSCompiler_StaticMethods_formatMsg_$self,msg){return msg+" ["+JSCompiler_StaticMethods_formatMsg_$self.lastMethod_+" "+JSCompiler_StaticMethods_formatMsg_$self.lastUri_+" "+JSCompiler_StaticMethods_formatMsg_$self.getStatus()+"]"};var easyUnlock$EasyUnlockDevice=function(){this.name="Unknown device"};var permit$Message=function(type,permitId,permitRecordId,permitRecordType,data,extraFields){this.type=type||null;this.permitId=permitId||null;this.permitRecordId=permitRecordId||null;this.permitRecordType=permitRecordType||"access";this.data=data||new Uint8Array([]);this.extraFields=extraFields||{}};
permit$Message.prototype.toJSON=function(){var input=this.data;goog$asserts$assert(goog$isArrayLike(input),"encodeByteArray takes an array as a parameter");goog$crypt$base64$init_();for(var byteToCharMap=goog$crypt$base64$byteToCharMapWebSafe_,output=[],i=0;i<input.length;i+=3){var byte1=input[i],haveByte2=i+1<input.length,byte2=haveByte2?input[i+1]:0,haveByte3=i+2<input.length,byte3=haveByte3?input[i+2]:0,outByte1=byte1>>2,outByte2=(byte1&3)<<4|byte2>>4,outByte3=(byte2&15)<<2|byte3>>6,outByte4=byte3&
63;haveByte3||(outByte4=64,haveByte2||(outByte3=64));output.push(byteToCharMap[outByte1],byteToCharMap[outByte2],byteToCharMap[outByte3],byteToCharMap[outByte4])}var b64EncodedData=output.join("").replace(/\./g,"="),recordIdKey="access"==this.permitRecordType?"permit_access_id":"permit_license_id",obj={};obj.type=this.type||void 0;obj.permit_id=this.permitId||void 0;obj[recordIdKey]=this.permitRecordId||void 0;obj.payload=b64EncodedData||void 0;for(var key in this.extraFields)obj[key]=this.extraFields[key];
return obj};var easyUnlock$Connection=function(easyUnlockDevice){this.easyUnlockDevice_=easyUnlockDevice;this.connectionStatus_=0;this.observers_=[];this.buffer_=new Uint8Array(0);this.messageInProgress_=null};easyUnlock$Connection.prototype.getStatus=function(){return this.connectionStatus_};
var JSCompiler_StaticMethods_setStatus=function(JSCompiler_StaticMethods_setStatus$self,connectionStatus){if(JSCompiler_StaticMethods_setStatus$self.connectionStatus_!=connectionStatus){var oldStatus=JSCompiler_StaticMethods_setStatus$self.connectionStatus_;JSCompiler_StaticMethods_setStatus$self.connectionStatus_=connectionStatus;JSCompiler_StaticMethods_setStatus$self.buffer_=new Uint8Array(0);for(var i=0;i<JSCompiler_StaticMethods_setStatus$self.observers_.length;++i)JSCompiler_StaticMethods_setStatus$self.observers_[i].onConnectionStatusChanged(JSCompiler_StaticMethods_setStatus$self,
oldStatus,JSCompiler_StaticMethods_setStatus$self.connectionStatus_)}};easyUnlock$Connection.prototype.isConnected=function(){return 2==this.connectionStatus_};
easyUnlock$Connection.prototype.sendMessage=function(message){if(null!=this.messageInProgress_)console.error("Another message is currently in progress.");else{this.messageInProgress_=message;var jsonString=JSON.stringify(message.toJSON()),bytes=new Uint8Array(goog$crypt$stringToByteArray(jsonString)),bodyLength=bytes.length,array1=new Uint8Array([3,bodyLength>>8,bodyLength&255]),result=new Uint8Array(array1.length+bytes.length);result.set(array1);result.set(bytes,array1.length);throw Error("Not Implemented");
}};var JSCompiler_StaticMethods_removeObserver=function(JSCompiler_StaticMethods_removeObserver$self,observer){var idx=JSCompiler_StaticMethods_removeObserver$self.observers_.indexOf(observer);-1==idx?console.warn("Observer was not added."):JSCompiler_StaticMethods_removeObserver$self.observers_.splice(idx,1)};easyUnlock$Connection.prototype.setPaused=function(){throw Error("Not Implemented");};easyUnlock$Connection.prototype.connect=function(){throw Error("Not Implemented");};
easyUnlock$Connection.prototype.disconnect=function(){throw Error("Not Implemented");};easyUnlock$Connection.prototype.onSendCompleted=function(success){if(null==this.messageInProgress_)console.error("Send completed, but no message in progress.");else{for(var i=0;i<this.observers_.length;++i)this.observers_[i].onSendCompleted(this,this.messageInProgress_,success);this.messageInProgress_=null}};var easyUnlock$DeviceCompatibilityInfo=function(json){this.json_=json};easyUnlock$DeviceCompatibilityInfo.prototype.hasSecureLockScreenEnabled=function(){var screenLockStatus=this.json_.screen_lock_status;return void 0===screenLockStatus?(console.log("Missing screen lock status in compatibility info."),!1):"enabled"===screenLockStatus};
easyUnlock$DeviceCompatibilityInfo.prototype.hasTrustAgentEnabled=function(){var trustAgentStatus=this.json_.trust_agent_status;return void 0===trustAgentStatus?(console.log("Missing trust agent status in compatibility info."),!1):"enabled"===trustAgentStatus};var easyUnlock$TimerImpl=function(){};easyUnlock$TimerImpl.prototype.getTime=function(){return(new Date).getTime()/1E3};easyUnlock$TimerImpl.prototype.createDelay=function(callback,delaySecs){return new easyUnlock$DelayImpl(callback,delaySecs)};var easyUnlock$DelayImpl=function(callback,delaySecs){this.delay_=new goog$async$Delay(callback,1E3*delaySecs)};easyUnlock$DelayImpl.prototype.start=function(){this.delay_.start()};easyUnlock$DelayImpl.prototype.stop=function(){this.delay_.stop()};var easyUnlock$SetupFlow=function(delegate){this.delegate_=delegate;this.timer_=new easyUnlock$TimerImpl;this.state_="not_started";this.prepareForScanDelay_=this.timer_.createDelay(this.fail_.bind(this),5);this.scanDelay_=null};easyUnlock$SetupFlow.prototype.expectState_=function(state){if(this.state_!==state)throw"Expected state: "+state+"; actual state: "+this.state_;};
easyUnlock$SetupFlow.prototype.start=function(){this.expectState_("not_started");this.prepareForScanDelay_.start();this.state_="preparing_for_scan";JSCompiler_StaticMethods_prepareForScan(this.delegate_,this.onReadyToScan_.bind(this))};
easyUnlock$SetupFlow.prototype.onReadyToScan_=function(success){this.expectState_("preparing_for_scan");this.prepareForScanDelay_.stop();success?(this.state_="scanning_for_devices",JSCompiler_StaticMethods_scanForBleDevices(this.delegate_,this.onScanCompleted_.bind(this))):this.fail_()};
easyUnlock$SetupFlow.prototype.onScanCompleted_=function(connection){this.expectState_("scanning_for_devices");connection?(this.scanDelay_&&this.scanDelay_.stop(),this.state_="fetching_device_info",(new easyUnlock$DeviceInfoObserver(connection,this.onGotDeviceInfo_.bind(this),this.timer_)).start()):this.fail_()};
easyUnlock$SetupFlow.prototype.onGotDeviceInfo_=function(connection$jscomp$0,compatibilityInfo){this.expectState_("fetching_device_info");if(this.delegate_.remoteDeviceCompatibilityInfo_=compatibilityInfo){this.connection_=connection$jscomp$0;this.state_="waiting_for_user_confirmation";var JSCompiler_StaticMethods_waitForUserConfirmation$self=this.delegate_,connection=this.connection_,callback=this.onPair_.bind(this);JSCompiler_StaticMethods_waitForUserConfirmation$self.expectState_("idle");JSCompiler_StaticMethods_waitForUserConfirmation$self.state_=
"waiting_for_user_confirmation";JSCompiler_StaticMethods_waitForUserConfirmation$self.pairWithDeviceCallback_=callback;JSCompiler_StaticMethods_waitForUserConfirmation$self.connectionCallback_(connection)}else this.fail_()};easyUnlock$SetupFlow.prototype.onPair_=function(connection){if("waiting_for_user_confirmation"!==this.state_)throw"Expected a waiting state; actually in state: "+this.state_;this.state_="pairing_devices";(new easyUnlock$PairingHandler(connection,this,this.timer_)).start()};
easyUnlock$SetupFlow.prototype.fail_=function(){this.prepareForScanDelay_.stop();this.scanDelay_&&this.scanDelay_.stop();var JSCompiler_StaticMethods_onSetupFailed$self=this.delegate_;console.log("setupFlowState: "+this.state_);"waiting_for_connection"===JSCompiler_StaticMethods_onSetupFailed$self.state_?JSCompiler_StaticMethods_complete_(JSCompiler_StaticMethods_onSetupFailed$self,"failure_remote_timeout"):JSCompiler_StaticMethods_complete_(JSCompiler_StaticMethods_onSetupFailed$self,"failure_unknown");
this.state_="failed"};var easyUnlock$PairingHandler=function(connection,setupFlow,timer){this.connection_=connection;this.setupFlow_=setupFlow;this.device_=connection.easyUnlockDevice_;this.delay_=timer.createDelay(this.onTimedOut_.bind(this),15)};easyUnlock$PairingHandler.prototype.getDevice=function(){return this.device_};
easyUnlock$PairingHandler.prototype.start=function(){this.delay_.start();this.connection_.observers_.push(this);this.connection_.isConnected()||this.stop_();this.connection_.setPaused(!1);this.connection_.sendMessage(new permit$Message("enable_easyunlock"))};easyUnlock$PairingHandler.prototype.stop_=function(){this.delay_.stop();JSCompiler_StaticMethods_removeObserver(this.connection_,this);this.setupFlow_.fail_()};easyUnlock$PairingHandler.prototype.onTimedOut_=function(){this.stop_()};
easyUnlock$PairingHandler.prototype.onMessageReceived=function(message){if("registration_completed"==message.type){JSCompiler_StaticMethods_removeObserver(this.connection_,this);this.delay_.stop();var JSCompiler_StaticMethods_onPairingHandlerCompleted$self=this.setupFlow_;if("success"==message.extraFields.status){var JSCompiler_StaticMethods_onSetupCompleted$self=JSCompiler_StaticMethods_onPairingHandlerCompleted$self.delegate_;console.log("Setup complete");JSCompiler_StaticMethods_complete_(JSCompiler_StaticMethods_onSetupCompleted$self,
"success_already_enrolled")}else JSCompiler_StaticMethods_onPairingHandlerCompleted$self.fail_()}};easyUnlock$PairingHandler.prototype.onConnectionStatusChanged=function(connection,oldStatus,newStatus){2!=newStatus&&this.stop_()};easyUnlock$PairingHandler.prototype.onSendCompleted=function(connection,message,success){"enable_easyunlock"==message.type&&success||this.stop_()};
var easyUnlock$DeviceInfoObserver=function(connection,callback,timer){this.connection_=connection;this.callback_=callback;this.delay_=timer.createDelay(this.onTimedOut_.bind(this),1)};easyUnlock$DeviceInfoObserver.prototype.start=function(){this.delay_.start();this.connection_.observers_.push(this);this.connection_.isConnected()||this.stop_(null);this.connection_.setPaused(!1)};
easyUnlock$DeviceInfoObserver.prototype.stop_=function(compatibilityInfo){this.delay_.stop();JSCompiler_StaticMethods_removeObserver(this.connection_,this);this.connection_.setPaused(!0);this.callback_(this.connection_,compatibilityInfo)};easyUnlock$DeviceInfoObserver.prototype.onTimedOut_=function(){this.stop_(null)};
easyUnlock$DeviceInfoObserver.prototype.onMessageReceived=function(message){"device_info"!=message.type?console.error("Unexpected message type: "+message.type):(this.connection_.easyUnlockDevice_.name=message.extraFields.device_name,this.stop_(new easyUnlock$DeviceCompatibilityInfo(message.extraFields)))};easyUnlock$DeviceInfoObserver.prototype.onConnectionStatusChanged=function(connection,oldStatus,newStatus){2!=newStatus&&this.stop_(null)};
easyUnlock$DeviceInfoObserver.prototype.onSendCompleted=function(){};var app$BleConnection=function(device,connectionId){easyUnlock$Connection.call(this,device);this.connectionId_=connectionId;this.onConnectionStatusChangedListener_=this.onConnectionStatusChanged_.bind(this);this.onDataReceivedListener_=this.onDataReceived_.bind(this);this.onSendCompletedListener_=this.onSendCompleted_.bind(this);chrome.easyUnlockPrivate.onDataReceived.addListener(this.onDataReceivedListener_);chrome.easyUnlockPrivate.onConnectionStatusChanged.addListener(this.onConnectionStatusChangedListener_);
chrome.easyUnlockPrivate.onSendCompleted.addListener(this.onSendCompletedListener_);JSCompiler_StaticMethods_setStatus(this,2)};goog$inherits(app$BleConnection,easyUnlock$Connection);app$BleConnection.prototype.connect=function(){};
app$BleConnection.prototype.disconnect=function(){chrome.easyUnlockPrivate.onDataReceived.removeListener(this.onDataReceivedListener_);chrome.easyUnlockPrivate.onConnectionStatusChanged.removeListener(this.onConnectionStatusChangedListener_);chrome.easyUnlockPrivate.onSendCompleted.removeListener(this.onSendCompletedListener_);chrome.easyUnlockPrivate.setupConnectionDisconnect(this.connectionId_)};
app$BleConnection.prototype.sendMessage=function(message){console.log("Sending message: "+message.type);var jsonStr=JSON.stringify(message.toJSON()),bytes=new Uint8Array(goog$crypt$stringToByteArray(jsonStr));this.messageInProgress_=message;chrome.easyUnlockPrivate.setupConnectionSend(this.connectionId_,bytes.buffer.slice(bytes.byteOffset))};app$BleConnection.prototype.setPaused=function(){};
app$BleConnection.prototype.onConnectionStatusChanged_=function(connectionId,oldStatus,newStatus){connectionId===this.connectionId_&&JSCompiler_StaticMethods_setStatus(this,newStatus)};
app$BleConnection.prototype.onDataReceived_=function(connectionId,data$jscomp$0){console.log("Received: "+data$jscomp$0.byteLength+" bytes from: "+connectionId);if(!this.isConnected())console.error("Received bytes, but not connected.");else if(connectionId===this.connectionId_){var jsonArray=new Uint8Array(data$jscomp$0);var bytes=Array.apply([],jsonArray);if(8192>=bytes.length)var jsonString=String.fromCharCode.apply(null,bytes);else{for(var str="",i=0;i<bytes.length;i+=8192){var chunk=goog$array$slice(bytes,
i,i+8192);str+=String.fromCharCode.apply(null,chunk)}jsonString=str}var jsonObj=null;try{jsonObj=JSON.parse(jsonString)}catch(e){throw Error("Failed to parse message content: '"+jsonString+"'");}var obj=jsonObj,expectedFields={};expectedFields.type=obj.type;expectedFields.permit_id=obj.permit_id;expectedFields.permit_access_id=obj.permit_access_id;expectedFields.permit_license_id=obj.permit_license_id;expectedFields.payload=obj.payload;var permitRecordId=expectedFields.permit_access_id||expectedFields.permit_license_id,
permitRecordType=void 0!==expectedFields.permit_access_id?"access":"license",b64EncodedData=obj.payload;if(b64EncodedData){var data=b64EncodedData.replace(/=/g,".");try{var decoded=goog$crypt$base64$decodeStringToByteArray(data);var JSCompiler_temp=new Uint8Array(decoded)}catch(e){console.error("Failed to decode Base64 encoded data:\n"+data+"\n"+e),JSCompiler_temp=null}}else JSCompiler_temp=b64EncodedData;var extraFields={},key;for(key in obj)void 0===expectedFields[key]&&(extraFields[key]=obj[key]);
var message=new permit$Message(expectedFields.type,expectedFields.permit_id,permitRecordId,permitRecordType,JSCompiler_temp,extraFields);console.log("Message type: "+message.type);for(var i$jscomp$0=0;i$jscomp$0<this.observers_.length;++i$jscomp$0)this.observers_[i$jscomp$0].onMessageReceived(message)}};app$BleConnection.prototype.onSendCompleted_=function(connectionId,data,success){if(connectionId===this.connectionId_)this.onSendCompleted(success)};var app$VersionUtil$getDeviceSoftwareVersionCode=function(){var manifest=chrome.runtime.getManifest();return parseInt(manifest.version.split(".")[0],10)||0},app$VersionUtil$getDeviceOsVersionCode=function(){var result=/Chrome\/([0-9]+).[0-9]+.[0-9]+.[0-9]+/.exec(navigator.userAgent);return(result?parseInt(result[1],10):0)||0};var app$CryptAuthClient=function(){this.token_=null},app$CryptAuthClient$IneligibilityReason={ERROR:"Error: unrecognized reason!",UNKNOWN:"unknownIneligibilityReason",SCREEN_TOO_LARGE:"screenTooLarge",BLUETOOTH_NOT_SUPPORTED:"bluetoothNotSupported",BAD_OS_VERSION:"badOsVersion",BAD_DEVICE_SOFTWARE_VERSION:"badDeviceSoftwareVersion",AUTO_UNLOCKING_NOT_SUPPORTED:"autoUnlockingNotSupported",INVALID_CREDENTIALS:"invalidCredentials",DEVICE_OFFLINE:"deviceOffline",NO_RECENT_UPDATES:"noRecentUpdates"},app$CryptAuthClient$googleApiEndpoint_=
"https://www.googleapis.com",app$CryptAuthClient$checkedLocalStorage_=!1,app$CryptAuthClient$parseExternalDeviceInfo_=function(device){return device.publicKey?{publicKey:device.publicKey,bluetoothAddress:device.bluetoothAddress||null,friendlyDeviceName:device.friendlyDeviceName||null,unlockKey:device.unlockKey||!1,unlockable:device.unlockable||!1}:null},app$CryptAuthClient$parseIneligibleDeviceInfoList_=function(deviceList){if(!deviceList)return[];var knownIneligibilityReasons=Object.keys(app$CryptAuthClient$IneligibilityReason).map(function(key){return app$CryptAuthClient$IneligibilityReason[key]}),
ineligibleDevices=[];deviceList.forEach(function(deviceJson){var ineligibilityReasonList=deviceJson.reasons;if(ineligibilityReasonList&&0!=ineligibilityReasonList.length){var ineligibilityReasons=ineligibilityReasonList.map(function(reason){return-1!==knownIneligibilityReasons.indexOf(reason)?reason:"Error: unrecognized reason!"});ineligibleDevices.push({device:app$CryptAuthClient$parseExternalDeviceInfo_(deviceJson.device),reasons:ineligibilityReasons})}else console.error("Ineligible device returned without any supporting reasons. JSON: "+
deviceJson)});return ineligibleDevices},JSCompiler_StaticMethods_fetchTokenIfNeeded_=function(JSCompiler_StaticMethods_fetchTokenIfNeeded_$self,callback){JSCompiler_StaticMethods_fetchTokenIfNeeded_$self.token_?callback(!0):chrome.identity.getAuthToken({interactive:!1},function(token){chrome.runtime.lastError?(console.log("Could not get OAuth token :-( "+chrome.runtime.lastError.message),callback(!1)):(this.token_=token,callback(!0))}.bind(JSCompiler_StaticMethods_fetchTokenIfNeeded_$self))},JSCompiler_StaticMethods_checkForAPIEndPointOverride_=
function(callback){app$CryptAuthClient$checkedLocalStorage_=!0;chrome.storage.local.get("googleApiUrlOverride",function(items){!chrome.runtime.lastError&&items.googleApiUrlOverride&&(console.log("Overriding Google API endpoint: "+items.googleApiUrlOverride),app$CryptAuthClient$googleApiEndpoint_=items.googleApiUrlOverride);callback()})};
app$CryptAuthClient.prototype.sendRequest_=function(path,requestData,callback){if(app$CryptAuthClient$checkedLocalStorage_){requestData.deviceClassifier={deviceOsVersionCode:app$VersionUtil$getDeviceOsVersionCode(),deviceSoftwareVersionCode:app$VersionUtil$getDeviceSoftwareVersionCode(),deviceSoftwarePackage:chrome.runtime.id,deviceType:"chrome"};var responseCallback=function(event){if(JSCompiler_StaticMethods_isSuccess(event.target)){console.log("API request for "+path+" succeeded:");console.log(JSCompiler_StaticMethods_getResponseText(event.target));
var response={};if(JSCompiler_StaticMethods_getResponseText(event.target))try{response=JSON.parse(JSCompiler_StaticMethods_getResponseText(event.target))}catch(e){if(e instanceof SyntaxError)response=void 0;else throw e;}response instanceof Object?callback(response):callback(null)}else console.log("API request for "+path+" failed..."),callback(null)},url=app$CryptAuthClient$googleApiEndpoint_+"/cryptauth/v1/$METHOD?alt=JSON".replace("$METHOD",path),sendXhrRequest=function(){var opt_content=JSON.stringify(requestData),
opt_headers={authorization:"Bearer "+this.token_,"Content-Type":"application/json"},x=new goog$net$XhrIo;goog$net$XhrIo$sendInstances_.push(x);responseCallback&&x.listen("complete",responseCallback);x.eventTargetListeners_.add("ready",x.cleanupSend_,!0,void 0,void 0);x.send(url,"POST",opt_content,opt_headers)}.bind(this);JSCompiler_StaticMethods_fetchTokenIfNeeded_(this,function(success){success?sendXhrRequest():(console.log("API request for "+path+" failed: error getting token"),callback(null))})}else JSCompiler_StaticMethods_checkForAPIEndPointOverride_(this.sendRequest_.bind(this,
path,requestData,callback))};
var JSCompiler_StaticMethods_findEligibleUnlockDevices=function(JSCompiler_StaticMethods_findEligibleUnlockDevices$self,callback){var options={bluetoothAddress:"00:00:00:00:00:01",retryCount:0},requestData={};void 0!==options.bluetoothAddress&&(requestData.callbackBluetoothAddress=options.bluetoothAddress);void 0!==options.retryCount&&(requestData.retryCount=options.retryCount);void 0!==options.maxLastUpdateTimeDeltaMillis&&(requestData.maxLastUpdateTimeDeltaMillis=options.maxLastUpdateTimeDeltaMillis);JSCompiler_StaticMethods_findEligibleUnlockDevices$self.sendRequest_("deviceSync/findeligibleunlockdevices",
requestData,function(responseData){if(responseData){var deviceList=responseData.eligibleDevices;if(deviceList){for(var deviceInfos=[],i=0;i<deviceList.length;++i){var deviceInfo=app$CryptAuthClient$parseExternalDeviceInfo_(deviceList[i]);null!==deviceInfo&&deviceInfos.push(deviceInfo)}var JSCompiler_inline_result=deviceInfos}else JSCompiler_inline_result=[];callback(JSCompiler_inline_result,app$CryptAuthClient$parseIneligibleDeviceInfoList_(responseData.ineligibleDevices))}else callback(null,responseData)})};var app$Metrics$SetupProgressHistogramValues_="showed-promo clicked-promo dismissed-promo launched-setup-app clicked-find-phone find-phone-error server-returned-eligible-devices remote-device-connected missing-secure-lock-screen clicked-check-again-after-missing-secure-lock-screen clicked-pair-phone pairing-error clicked-restart-setup-after-pairing-error pairing-complete showed-smart-lock-for-android-promo acknowledged-smart-lock-for-android-promo showed-pairing-complete clicked-try-it-out clicked-done".split(" "),
app$Metrics$IneligibilityReasonHistogramValues_="Error: unrecognized reason!;unknownIneligibilityReason;screenTooLarge;bluetoothNotSupported;badOsVersion;badDeviceSoftwareVersion;autoUnlockingNotSupported;invalidCredentials;deviceOffline;noRecentUpdates".split(";"),app$Metrics$getFullMetricName_=function(metricName){return["EasyUnlock",metricName].join(".")},app$Metrics$recordEnum_=function(name,value,enumValues){var enumSize=enumValues.length,valueIndex=enumValues.indexOf(value);if(0>valueIndex)console.error('Dropping unrecognized value "'+
value+'" for the "'+name+'" histogram');else{var enumConfiguration={metricName:app$Metrics$getFullMetricName_(name),type:"histogram-linear",min:1,max:enumSize,buckets:enumSize+1};try{chrome.metricsPrivate.recordValue(enumConfiguration,valueIndex)}catch(e){console.warn("Failed to record enum value "+value+" in "+name)}}},app$Metrics$recordBooleanHistogram_=function(name,value){var enumConfiguration={metricName:app$Metrics$getFullMetricName_(name),type:"histogram-linear",min:1,max:2,buckets:3};try{chrome.metricsPrivate.recordValue(enumConfiguration,
value?1:0)}catch(e){console.warn("Failed to record boolean value "+value+" in "+name)}};var app$AppSetupFlowDelegate=function(connectionCallback){this.state_="idle";this.connectionCallback_=connectionCallback;this.completionCallback_=this.foundEligibleDevicesCallback_=null;this.cryptAuthClient_=new app$CryptAuthClient;this.remoteDeviceCompatibilityInfo_=this.ineligibleDevices_=this.eligibleDevices_=this.pairWithDeviceCallback_=this.scanCompletedCallback_=this.preparationCompletedCallback_=null},app$AppSetupFlowDelegate$RankedIneligibilityReasons_="Error: unrecognized reason!;unknownIneligibilityReason;screenTooLarge;bluetoothNotSupported;badOsVersion;badDeviceSoftwareVersion;autoUnlockingNotSupported;invalidCredentials;deviceOffline;noRecentUpdates".split(";"),
app$AppSetupFlowDelegate$getDeviceRelevance_=function(device){return 0===device.reasons.length?0:device.reasons.reduce(function(previousIndex,reason){return Math.max(Math.min(previousIndex,app$AppSetupFlowDelegate$RankedIneligibilityReasons_.indexOf(reason)),0)},app$AppSetupFlowDelegate$RankedIneligibilityReasons_.length)},app$AppSetupFlowDelegate$getMostRelevantIneligibleDevice_=function(ineligibleDevices){if(!ineligibleDevices||0===ineligibleDevices.length)return null;var mostRelevantDeviceAndReason=
ineligibleDevices.reduce(function(previousBest,ineligibleDevice){var reasonIndex=app$AppSetupFlowDelegate$getDeviceRelevance_(ineligibleDevice);return previousBest&&reasonIndex<=previousBest.reasonIndex?previousBest:{device:ineligibleDevice.device,reasonIndex:reasonIndex}},null);return{device:mostRelevantDeviceAndReason.device,reasons:[app$AppSetupFlowDelegate$RankedIneligibilityReasons_[mostRelevantDeviceAndReason.reasonIndex]]}},JSCompiler_StaticMethods_setFoundEligibleDevicesCallback=function(JSCompiler_StaticMethods_setFoundEligibleDevicesCallback$self,
callback){JSCompiler_StaticMethods_setFoundEligibleDevicesCallback$self.foundEligibleDevicesCallback_=callback},JSCompiler_StaticMethods_setCompletionCallback=function(JSCompiler_StaticMethods_setCompletionCallback$self,callback){JSCompiler_StaticMethods_setCompletionCallback$self.completionCallback_=callback},JSCompiler_StaticMethods_complete_=function(JSCompiler_StaticMethods_complete_$self,result){JSCompiler_StaticMethods_stopScan_();null!=JSCompiler_StaticMethods_complete_$self.completionCallback_&&
(JSCompiler_StaticMethods_complete_$self.completionCallback_(result),JSCompiler_StaticMethods_complete_$self.completionCallback_=null)},JSCompiler_StaticMethods_stopScan_=function(){chrome.bluetoothPrivate.setAdapterState({discoverable:!1},function(){})};app$AppSetupFlowDelegate.prototype.expectState_=function(state){if(this.state_!==state)throw"Expected state: "+state+"; actual state: "+this.state_;};
var JSCompiler_StaticMethods_pairDevice=function(JSCompiler_StaticMethods_pairDevice$self,connection){JSCompiler_StaticMethods_pairDevice$self.expectState_("waiting_for_user_confirmation");JSCompiler_StaticMethods_pairDevice$self.pairWithDeviceCallback_(connection);JSCompiler_StaticMethods_pairDevice$self.state_="idle"};app$AppSetupFlowDelegate.prototype.hasTrustAgentEnabled=function(){return!!this.remoteDeviceCompatibilityInfo_&&this.remoteDeviceCompatibilityInfo_.hasTrustAgentEnabled()};
app$AppSetupFlowDelegate.prototype.hasSecureLockScreenEnabled=function(){return!!this.remoteDeviceCompatibilityInfo_&&this.remoteDeviceCompatibilityInfo_.hasSecureLockScreenEnabled()};
var JSCompiler_StaticMethods_getMostRelevantIneligibleDevice=function(JSCompiler_StaticMethods_getMostRelevantIneligibleDevice$self){return JSCompiler_StaticMethods_getMostRelevantIneligibleDevice$self.eligibleDevices_&&0<JSCompiler_StaticMethods_getMostRelevantIneligibleDevice$self.eligibleDevices_.length?null:app$AppSetupFlowDelegate$getMostRelevantIneligibleDevice_(JSCompiler_StaticMethods_getMostRelevantIneligibleDevice$self.ineligibleDevices_)},JSCompiler_StaticMethods_prepareForScan=function(JSCompiler_StaticMethods_prepareForScan$self,
callback){JSCompiler_StaticMethods_prepareForScan$self.preparationCompletedCallback_=callback;chrome.bluetoothPrivate.setAdapterState({powered:!0},function(){chrome.runtime.lastError?(console.error("Unable to power on Bluetooth adapter: "+chrome.runtime.lastError.message),JSCompiler_StaticMethods_complete_(this,"failure_bluetooth_unavailable"),this.preparationCompletedCallback_(!1)):this.preparationCompletedCallback_(!0)}.bind(JSCompiler_StaticMethods_prepareForScan$self))},JSCompiler_StaticMethods_scanForBleDevices=
function(JSCompiler_StaticMethods_scanForBleDevices$self,callback){JSCompiler_StaticMethods_scanForBleDevices$self.scanCompletedCallback_=callback;console.log("Start scanning for BLE devices...");chrome.easyUnlockPrivate.findSetupConnection("984fc6cc-63fd-3cd8-a8b3-50f39cda8a69",30,function(connectionId){if(chrome.runtime.lastError)console.error("No connection found."),JSCompiler_StaticMethods_complete_(this,"failure_no_devices_found"),this.scanCompletedCallback_(null);else{console.log("Connection with 00:00:00:00:00:01 established.");
var connection=new app$BleConnection(new easyUnlock$EasyUnlockDevice,connectionId);this.state_="idle";this.scanCompletedCallback_(connection)}}.bind(JSCompiler_StaticMethods_scanForBleDevices$self));JSCompiler_StaticMethods_findAndPingEligibleDevices_(JSCompiler_StaticMethods_scanForBleDevices$self)},JSCompiler_StaticMethods_findAndPingEligibleDevices_=function(JSCompiler_StaticMethods_findAndPingEligibleDevices_$self){console.log("Finding eligible devices...");JSCompiler_StaticMethods_findAndPingEligibleDevices_$self.state_=
"pinging_devices";JSCompiler_StaticMethods_findEligibleUnlockDevices(JSCompiler_StaticMethods_findAndPingEligibleDevices_$self.cryptAuthClient_,function(eligibleDevices,ineligibleDevices){this.eligibleDevices_=eligibleDevices;this.ineligibleDevices_=ineligibleDevices;null===eligibleDevices?(JSCompiler_StaticMethods_complete_(this,"failure_on_find_request"),this.scanCompletedCallback_(null)):"pinging_devices"==this.state_&&(this.state_="waiting_for_connection");var didFindEligibleDevices=null!==eligibleDevices&&
0<eligibleDevices.length;if(didFindEligibleDevices&&(chrome.metricsPrivate.recordSmallCount(app$Metrics$getFullMetricName_("Setup.Devices.Count.Eligible"),eligibleDevices?eligibleDevices.length:0),chrome.metricsPrivate.recordSmallCount(app$Metrics$getFullMetricName_("Setup.Devices.Count.Ineligible"),ineligibleDevices?ineligibleDevices.length:0),(!eligibleDevices||0===eligibleDevices.length)&&ineligibleDevices&&0<ineligibleDevices.length)){var mostRelevantDevice=app$AppSetupFlowDelegate$getMostRelevantIneligibleDevice_(ineligibleDevices);
app$Metrics$recordEnum_("Setup.Devices.IneligibilityReason",mostRelevantDevice.reasons[0],app$Metrics$IneligibilityReasonHistogramValues_)}didFindEligibleDevices&&this.foundEligibleDevicesCallback_()}.bind(JSCompiler_StaticMethods_findAndPingEligibleDevices_$self))};var app$ResourceUtil$Icon$HAND_HOLDER={path:"hand_holder.png"},app$ResourceUtil$Icon$PHONE_HELD_KEY={path:"held_key.png"},app$ResourceUtil$Icon$PHONE_HELD_KEY_ERROR={path:"held_key_error.png"},app$ResourceUtil$Icon$PHONE_ENABLE_ANDROID_SMART_LOCK={path:"enable_android_smart_lock.png"},app$ResourceUtil$Icon$PHONE_IN_PROGRESS={path:"held_in_progress.png"},app$ResourceUtil$Icon$PHONE_PAIRED={path:"held_key_connected.png"},app$ResourceUtil$Icon$LAPTOP={path:"laptop_screen.png"},app$ResourceUtil$Icon$LAPTOP_PAIRED=
{path:"laptop_screen_connected.png"},app$ResourceUtil$getIconPath=function(icon,scaleFactor){scaleFactor=scaleFactor||window.devicePixelRatio;return(1<scaleFactor?"assets/200/":"assets/100/").concat(icon.path)},app$ResourceUtil$strings_=null,app$ResourceUtil$loadStrings=function(callback){app$ResourceUtil$strings_?callback():chrome.easyUnlockPrivate.getStrings(function(strings){app$ResourceUtil$strings_=strings;callback()})};var goog$string$Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog$string$Const$TYPE_MARKER_};goog$string$Const.prototype.implementsGoogStringTypedString=!0;goog$string$Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};
goog$string$Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var goog$string$Const$unwrap=function(stringConst){if(stringConst instanceof goog$string$Const&&stringConst.constructor===goog$string$Const&&stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog$string$Const$TYPE_MARKER_)return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog$asserts$fail("expected object of type Const, got '"+stringConst+"'");return"type_error:Const"},goog$string$Const$TYPE_MARKER_={},goog$string$Const$create__googStringSecurityPrivate_=
function(s){var stringConst=new goog$string$Const;stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_=s;return stringConst};goog$string$Const$create__googStringSecurityPrivate_("");var goog$html$SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog$html$SafeUrl$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog$html$SafeUrl.prototype.implementsGoogStringTypedString=!0;goog$html$SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};goog$html$SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var goog$html$SafeUrl$unwrap=function(safeUrl){if(safeUrl instanceof goog$html$SafeUrl&&safeUrl.constructor===goog$html$SafeUrl&&safeUrl.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog$html$SafeUrl$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog$asserts$fail("expected object of type SafeUrl, got '"+safeUrl+"' of type "+goog$typeOf(safeUrl));return"type_error:SafeUrl"},goog$html$SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,
goog$html$SafeUrl$sanitize=function(url){if(url instanceof goog$html$SafeUrl)return url;url=url.implementsGoogStringTypedString?url.getTypedStringValue():String(url);goog$html$SAFE_URL_PATTERN_.test(url)||(url="about:invalid#zClosurez");return goog$html$SafeUrl$createSafeUrlSecurityPrivateDoNotAccessOrElse(url)},goog$html$SafeUrl$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog$html$SafeUrl$createSafeUrlSecurityPrivateDoNotAccessOrElse=function(url){var safeUrl=new goog$html$SafeUrl;safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_=
url;return safeUrl};goog$html$SafeUrl$createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");var goog$html$SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog$html$SafeStyle$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog$html$SafeStyle.prototype.implementsGoogStringTypedString=!0;var goog$html$SafeStyle$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog$html$SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};
goog$html$SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"};goog$html$SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(style){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=style;return this};
var goog$html$SafeStyle$EMPTY=(new goog$html$SafeStyle).initSecurityPrivateDoNotAccessOrElse_(""),goog$html$SafeStyle$sanitizePropertyValue_=function(value$jscomp$0){if(value$jscomp$0 instanceof goog$html$SafeUrl)return'url("'+goog$html$SafeUrl$unwrap(value$jscomp$0).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(value$jscomp$0 instanceof goog$string$Const)var JSCompiler_temp=goog$string$Const$unwrap(value$jscomp$0);else{var value=String(value$jscomp$0),valueWithoutFunctions=value.replace(goog$html$SafeStyle$FUNCTIONS_RE_,
"$1").replace(goog$html$SafeStyle$URL_RE_,"url");if(goog$html$SafeStyle$VALUE_RE_.test(valueWithoutFunctions)){for(var outsideSingle=!0,outsideDouble=!0,i=0;i<value.length;i++){var c=value.charAt(i);"'"==c&&outsideDouble?outsideSingle=!outsideSingle:'"'==c&&outsideSingle&&(outsideDouble=!outsideDouble)}outsideSingle&&outsideDouble?JSCompiler_temp=goog$html$SafeStyle$sanitizeUrl_(value):(goog$asserts$fail("String value requires balanced quotes, got: "+value),JSCompiler_temp="zClosurez")}else goog$asserts$fail("String value allows only [-,.\"'%_!# a-zA-Z0-9] and simple functions, got: "+
value),JSCompiler_temp="zClosurez"}var result=JSCompiler_temp;goog$asserts$assert(!/[{;}]/.test(result),"Value does not allow [{;}].");return result},goog$html$SafeStyle$VALUE_RE_=/^[-,."'%_!# a-zA-Z0-9]+$/,goog$html$SafeStyle$URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog$html$SafeStyle$FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|(rotate|scale|translate)(X|Y|Z|3d)?)\([-0-9a-z.%, ]+\)/g,goog$html$SafeStyle$sanitizeUrl_=function(value){return value.replace(goog$html$SafeStyle$URL_RE_,
function(match$jscomp$0,before,url,after){var quote="";url=url.replace(/^(['"])(.*)\1$/,function(match,start,inside){quote=start;return inside});var sanitized=goog$html$SafeUrl$sanitize(url).getTypedStringValue();return before+quote+sanitized+quote+after})};var goog$html$SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog$html$SafeStyleSheet$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog$html$SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;
var goog$html$SafeStyleSheet$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog$html$SafeStyleSheet$createRule=function(selector,style$jscomp$1){if(-1!=selector.indexOf("<"))throw Error("Selector does not allow '<', got: "+selector);var selectorToCheck=selector.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(selectorToCheck))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+selector);a:{for(var brackets={"(":")","[":"]"},
expectedBrackets=[],i=0;i<selectorToCheck.length;i++){var ch=selectorToCheck[i];if(brackets[ch])expectedBrackets.push(brackets[ch]);else{b:{var key=void 0;for(key in brackets)if(brackets[key]==ch){var JSCompiler_inline_result=!0;break b}JSCompiler_inline_result=!1}if(JSCompiler_inline_result&&expectedBrackets.pop()!=ch){var JSCompiler_inline_result$jscomp$0=!1;break a}}}JSCompiler_inline_result$jscomp$0=0==expectedBrackets.length}if(!JSCompiler_inline_result$jscomp$0)throw Error("() and [] in selector must be balanced, got: "+
selector);if(!(style$jscomp$1 instanceof goog$html$SafeStyle)){var map=style$jscomp$1,style="",name;for(name in map){if(!/^[-_a-zA-Z0-9]+$/.test(name))throw Error("Name allows only [-_a-zA-Z0-9], got: "+name);var value=map[name];null!=value&&(value=goog$isArray(value)?goog$array$map(value,goog$html$SafeStyle$sanitizePropertyValue_).join(" "):goog$html$SafeStyle$sanitizePropertyValue_(value),style+=name+":"+value+";")}if(style){var style$jscomp$0=style;goog$asserts$assert(!/[<>]/.test(style$jscomp$0),
"Forbidden characters in style string: "+style$jscomp$0);style$jscomp$1=(new goog$html$SafeStyle).initSecurityPrivateDoNotAccessOrElse_(style)}else style$jscomp$1=goog$html$SafeStyle$EMPTY}if(style$jscomp$1 instanceof goog$html$SafeStyle&&style$jscomp$1.constructor===goog$html$SafeStyle&&style$jscomp$1.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog$html$SafeStyle$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)var JSCompiler_inline_result$jscomp$1=style$jscomp$1.privateDoNotAccessOrElseSafeStyleWrappedValue_;
else goog$asserts$fail("expected object of type SafeStyle, got '"+style$jscomp$1+"' of type "+goog$typeOf(style$jscomp$1)),JSCompiler_inline_result$jscomp$1="type_error:SafeStyle";return(new goog$html$SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(selector+"{"+JSCompiler_inline_result$jscomp$1+"}")},goog$html$SafeStyleSheet$concat=function(var_args){var result="",addArgument=function(argument){goog$isArray(argument)?goog$array$forEach(argument,addArgument):result+=goog$html$SafeStyleSheet$unwrap(argument)};
goog$array$forEach(arguments,addArgument);return(new goog$html$SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(result)};goog$html$SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};goog$html$SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"};
var goog$html$SafeStyleSheet$unwrap=function(safeStyleSheet){if(safeStyleSheet instanceof goog$html$SafeStyleSheet&&safeStyleSheet.constructor===goog$html$SafeStyleSheet&&safeStyleSheet.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog$html$SafeStyleSheet$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog$asserts$fail("expected object of type SafeStyleSheet, got '"+safeStyleSheet+"' of type "+goog$typeOf(safeStyleSheet));
return"type_error:SafeStyleSheet"};goog$html$SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(styleSheet){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=styleSheet;return this};var goog$html$SafeStyleSheet$EMPTY=(new goog$html$SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_("");var goog$html$SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog$html$SafeHtml$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog$html$SafeHtml.prototype.implementsGoogStringTypedString=!0;goog$html$SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
goog$html$SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};var goog$html$SafeHtml$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog$html$SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(html){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=html;return this};var goog$dom$safe$SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog$dom$safe$setInnerHtml=function(elem,html){if(goog$dom$safe$SET_INNER_HTML_DISALLOWED_TAGS_[elem.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+elem.tagName+".");if(html instanceof goog$html$SafeHtml&&html.constructor===goog$html$SafeHtml&&html.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog$html$SafeHtml$TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)var JSCompiler_inline_result=
html.privateDoNotAccessOrElseSafeHtmlWrappedValue_;else goog$asserts$fail("expected object of type SafeHtml, got '"+html+"' of type "+goog$typeOf(html)),JSCompiler_inline_result="type_error:SafeHtml";elem.innerHTML=JSCompiler_inline_result};var goog$dom$BrowserFeature$CAN_ADD_NAME_OR_TYPE_ATTRIBUTES=!goog$userAgent.IE||goog$userAgent.isDocumentModeOrHigher(9);var goog$dom$classlist$get=function(element){if(element.classList)return element.classList;var className=element.className;return goog$isString(className)&&className.match(/\S+/g)||[]};var goog$dom$setProperties=function(element,properties){goog$object$forEach(properties,function(val,key){val&&val.implementsGoogStringTypedString&&(val=val.getTypedStringValue());"style"==key?element.style.cssText=val:"class"==key?element.className=val:"for"==key?element.htmlFor=val:goog$dom$DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key)?element.setAttribute(goog$dom$DIRECT_ATTRIBUTE_MAP_[key],val):0==key.lastIndexOf("aria-",0)||0==key.lastIndexOf("data-",0)?element.setAttribute(key,val):element[key]=
val})},goog$dom$DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog$dom$createDom=function(tagName$jscomp$0,opt_attributes,var_args){var args=arguments,doc=document,tagName=String(args[0]),attributes=args[1];if(!goog$dom$BrowserFeature$CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&attributes&&(attributes.name||
attributes.type)){var tagNameArr=["<",tagName];attributes.name&&tagNameArr.push(' name="',goog$string$htmlEscape(attributes.name),'"');if(attributes.type){tagNameArr.push(' type="',goog$string$htmlEscape(attributes.type),'"');var clone={};goog$object$extend(clone,attributes);delete clone.type;attributes=clone}tagNameArr.push(">");tagName=tagNameArr.join("")}var element=doc.createElement(tagName);attributes&&(goog$isString(attributes)?element.className=attributes:goog$isArray(attributes)?element.className=
attributes.join(" "):goog$dom$setProperties(element,attributes));2<args.length&&goog$dom$append_(doc,element,args);return element},goog$dom$append_=function(doc,parent,args){function childHandler(child){child&&parent.appendChild(goog$isString(child)?doc.createTextNode(child):child)}for(var i=2;i<args.length;i++){var arg=args[i];if(!goog$isArrayLike(arg)||goog$isObject(arg)&&0<arg.nodeType)childHandler(arg);else{a:{if(arg&&"number"==typeof arg.length){if(goog$isObject(arg)){var JSCompiler_inline_result=
"function"==typeof arg.item||"string"==typeof arg.item;break a}if(goog$isFunction(arg)){JSCompiler_inline_result="function"==typeof arg.item;break a}}JSCompiler_inline_result=!1}goog$array$forEach(JSCompiler_inline_result?goog$array$toArray(arg):arg,childHandler)}}},goog$dom$createElement_=function(name){return document.createElement(String(name))},goog$dom$removeNode=function(node){return node&&node.parentNode?node.parentNode.removeChild(node):null};var goog$dom$TagIterator=function(opt_node,opt_reversed,opt_unconstrained,opt_tagType,opt_depth){this.reversed=!!opt_reversed;this.node=null;this.tagType=0;this.started_=!1;this.constrained=!opt_unconstrained;opt_node&&this.setPosition(opt_node,opt_tagType);this.depth=void 0!=opt_depth?opt_depth:this.tagType||0;this.reversed&&(this.depth*=-1)};goog$inherits(goog$dom$TagIterator,goog$iter$Iterator);
goog$dom$TagIterator.prototype.setPosition=function(node,opt_tagType,opt_depth){if(this.node=node)this.tagType=goog$isNumber(opt_tagType)?opt_tagType:1!=this.node.nodeType?0:this.reversed?-1:1;goog$isNumber(opt_depth)&&(this.depth=opt_depth)};goog$dom$TagIterator.prototype.clone=function(){return new goog$dom$TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)};
goog$dom$TagIterator.prototype.next=function(){if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog$iter$StopIteration;var node=this.node;var startType=this.reversed?-1:1;if(this.tagType==startType){var child=this.reversed?node.lastChild:node.firstChild;child?this.setPosition(child):this.setPosition(node,-1*startType)}else{var sibling=this.reversed?node.previousSibling:node.nextSibling;sibling?this.setPosition(sibling):this.setPosition(node.parentNode,-1*startType)}this.depth+=
this.tagType*(this.reversed?-1:1)}else this.started_=!0;node=this.node;if(!this.node)throw goog$iter$StopIteration;return node};goog$dom$TagIterator.prototype.equals=function(other){return other.node==this.node&&(!this.node||other.tagType==this.tagType)};
goog$dom$TagIterator.prototype.splice=function(var_args){var node=this.node,check=this.reversed?1:-1;this.tagType==check&&(this.tagType=-1*check,this.depth+=this.tagType*(this.reversed?-1:1));this.reversed=!this.reversed;goog$dom$TagIterator.prototype.next.call(this);this.reversed=!this.reversed;for(var arr=goog$isArrayLike(arguments[0])?arguments[0]:arguments,i=arr.length-1;0<=i;i--)node.parentNode&&node.parentNode.insertBefore(arr[i],node.nextSibling);goog$dom$removeNode(node)};var goog$dom$NodeIterator=function(opt_node,opt_reversed,opt_unconstrained,opt_depth){goog$dom$TagIterator.call(this,opt_node,opt_reversed,opt_unconstrained,null,opt_depth)};goog$inherits(goog$dom$NodeIterator,goog$dom$TagIterator);goog$dom$NodeIterator.prototype.next=function(){do goog$dom$NodeIterator.superClass_.next.call(this);while(-1==this.tagType);return this.node};var module$contents$goog$html$CssSpecificity_specificityCache={};
function module$contents$goog$html$CssSpecificity_getSpecificity(selector$jscomp$0){if(goog$userAgent.product.IE&&!goog$userAgent.isVersionOrHigher(9))return[0,0,0,0];var specificity=module$contents$goog$html$CssSpecificity_specificityCache.hasOwnProperty(selector$jscomp$0)?module$contents$goog$html$CssSpecificity_specificityCache[selector$jscomp$0]:null;if(specificity)return specificity;65536<Object.keys(module$contents$goog$html$CssSpecificity_specificityCache).length&&(module$contents$goog$html$CssSpecificity_specificityCache=
{});var specificity$jscomp$0=[0,0,0,0];var selector=module$contents$goog$html$CssSpecificity_replaceWithPlainText(selector$jscomp$0,/\\[0-9A-Fa-f]{6}\s?/g);selector=module$contents$goog$html$CssSpecificity_replaceWithPlainText(selector,/\\[0-9A-Fa-f]{1,5}\s/g);selector=module$contents$goog$html$CssSpecificity_replaceWithPlainText(selector,/\\./g);selector=selector.replace(/:not\(([^\)]*)\)/g,"     $1 ");selector=selector.replace(/{[^]*/gm,"");selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,
specificity$jscomp$0,/(\[[^\]]+\])/g,2);selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity$jscomp$0,/(#[^\#\s\+>~\.\[:]+)/g,1);selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity$jscomp$0,/(\.[^\s\+>~\.\[:]+)/g,2);selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity$jscomp$0,/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,3);selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,
specificity$jscomp$0,/(:[\w-]+\([^\)]*\))/gi,2);selector=module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity$jscomp$0,/(:[^\s\+>~\.\[:]+)/g,2);selector=selector.replace(/[\*\s\+>~]/g," ");selector=selector.replace(/[#\.]/g," ");module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity$jscomp$0,/([^\s\+>~\.\[:]+)/g,3);specificity=specificity$jscomp$0;return module$contents$goog$html$CssSpecificity_specificityCache[selector$jscomp$0]=specificity}
function module$contents$goog$html$CssSpecificity_replaceWithEmptyText(selector,specificity,regex,typeIndex){return selector.replace(regex,function(match){specificity[typeIndex]+=1;return Array(match.length+1).join(" ")})}function module$contents$goog$html$CssSpecificity_replaceWithPlainText(selector,regex){return selector.replace(regex,function(match){return Array(match.length+1).join("A")})};var goog$html$sanitizer$AttributeWhitelist={"* ARIA-CHECKED":!0,"* ARIA-COLCOUNT":!0,"* ARIA-COLINDEX":!0,"* ARIA-DESCRIBEDBY":!0,"* ARIA-DISABLED":!0,"* ARIA-LABEL":!0,"* ARIA-LABELLEDBY":!0,"* ARIA-READONLY":!0,"* ARIA-REQUIRED":!0,"* ARIA-ROWCOUNT":!0,"* ARIA-ROWINDEX":!0,"* ARIA-SELECTED":!0,"* ABBR":!0,"* ACCEPT":!0,"* ACCESSKEY":!0,"* ALIGN":!0,"* ALT":!0,"* AUTOCOMPLETE":!0,"* AXIS":!0,"* BGCOLOR":!0,"* BORDER":!0,"* CELLPADDING":!0,"* CELLSPACING":!0,"* CHAROFF":!0,"* CHAR":!0,"* CHECKED":!0,
"* CLEAR":!0,"* COLOR":!0,"* COLSPAN":!0,"* COLS":!0,"* COMPACT":!0,"* COORDS":!0,"* DATETIME":!0,"* DIR":!0,"* DISABLED":!0,"* ENCTYPE":!0,"* FACE":!0,"* FRAME":!0,"* HEIGHT":!0,"* HREFLANG":!0,"* HSPACE":!0,"* ISMAP":!0,"* LABEL":!0,"* LANG":!0,"* MAXLENGTH":!0,"* METHOD":!0,"* MULTIPLE":!0,"* NOHREF":!0,"* NOSHADE":!0,"* NOWRAP":!0,"* READONLY":!0,"* REL":!0,"* REV":!0,"* ROLE":!0,"* ROWSPAN":!0,"* ROWS":!0,"* RULES":!0,"* SCOPE":!0,"* SELECTED":!0,"* SHAPE":!0,"* SIZE":!0,"* SPAN":!0,"* START":!0,
"* SUMMARY":!0,"* TABINDEX":!0,"* TITLE":!0,"* TYPE":!0,"* VALIGN":!0,"* VALUE":!0,"* VSPACE":!0,"* WIDTH":!0},goog$html$sanitizer$AttributeSanitizedWhitelist={"* USEMAP":!0,"* ACTION":!0,"* CITE":!0,"* HREF":!0,"* LONGDESC":!0,"* SRC":!0,"LINK HREF":!0,"* FOR":!0,"* HEADERS":!0,"* NAME":!0,"A TARGET":!0,"* CLASS":!0,"* ID":!0,"* STYLE":!0};function module$contents$goog$html$sanitizer$noclobber_getterOrNull(className,property){var ctor=goog$global[className];if(!ctor||!ctor.prototype)return null;var descriptor=Object.getOwnPropertyDescriptor(ctor.prototype,property);return descriptor&&descriptor.get||null}function module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull(className,method){var ctor=goog$global[className];return ctor&&ctor.prototype&&ctor.prototype[method]||null}
var module$contents$goog$html$sanitizer$noclobber_Methods$ATTRIBUTES_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("Element","attributes")||module$contents$goog$html$sanitizer$noclobber_getterOrNull("Node","attributes"),module$contents$goog$html$sanitizer$noclobber_Methods$HAS_ATTRIBUTE=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element","hasAttribute"),module$contents$goog$html$sanitizer$noclobber_Methods$GET_ATTRIBUTE=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element",
"getAttribute"),module$contents$goog$html$sanitizer$noclobber_Methods$SET_ATTRIBUTE=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element","setAttribute"),module$contents$goog$html$sanitizer$noclobber_Methods$REMOVE_ATTRIBUTE=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element","removeAttribute"),module$contents$goog$html$sanitizer$noclobber_Methods$GET_ELEMENTS_BY_TAG_NAME=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element",
"getElementsByTagName"),module$contents$goog$html$sanitizer$noclobber_Methods$MATCHES=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element","matches")||module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("Element","msMatchesSelector"),module$contents$goog$html$sanitizer$noclobber_Methods$NODE_NAME_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("Node","nodeName"),module$contents$goog$html$sanitizer$noclobber_Methods$NODE_TYPE_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("Node",
"nodeType"),module$contents$goog$html$sanitizer$noclobber_Methods$PARENT_NODE_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("Node","parentNode"),module$contents$goog$html$sanitizer$noclobber_Methods$STYLE_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("HTMLElement","style")||module$contents$goog$html$sanitizer$noclobber_getterOrNull("Element","style"),module$contents$goog$html$sanitizer$noclobber_Methods$SHEET_GETTER=module$contents$goog$html$sanitizer$noclobber_getterOrNull("HTMLStyleElement",
"sheet"),module$contents$goog$html$sanitizer$noclobber_Methods$GET_PROPERTY_VALUE=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("CSSStyleDeclaration","getPropertyValue"),module$contents$goog$html$sanitizer$noclobber_Methods$SET_PROPERTY=module$contents$goog$html$sanitizer$noclobber_prototypeMethodOrNull("CSSStyleDeclaration","setProperty");
function module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(fn,object,fallbackPropertyName,fallbackTest){if(fn)return fn.apply(object);var propertyValue=object[fallbackPropertyName];if(!fallbackTest(propertyValue))throw Error("Clobbering detected");return propertyValue}
function module$contents$goog$html$sanitizer$noclobber_genericMethodCall(fn,object,fallbackMethodName,args){if(fn)return fn.apply(object,args);if(goog$userAgent.product.IE&&10>document.documentMode){if(!object[fallbackMethodName].call)throw Error("IE Clobbering detected");}else if("function"!=typeof object[fallbackMethodName])throw Error("Clobbering detected");return object[fallbackMethodName].apply(object,args)}
function module$contents$goog$html$sanitizer$noclobber_getElementAttributes(element){return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$ATTRIBUTES_GETTER,element,"attributes",function(attributes){return attributes instanceof NamedNodeMap})}
function module$contents$goog$html$sanitizer$noclobber_setElementAttribute(element,name,value){try{module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$SET_ATTRIBUTE,element,"setAttribute",[name,value])}catch(e){if(-1==e.message.indexOf("A security problem occurred"))throw e;}}
function module$contents$goog$html$sanitizer$noclobber_getElementStyle(element){module$contents$goog$html$sanitizer$noclobber_assertHTMLElement(element);return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$STYLE_GETTER,element,"style",function(style){return style instanceof CSSStyleDeclaration})}
function module$contents$goog$html$sanitizer$noclobber_assertHTMLElement(element){if(!(element instanceof HTMLElement))throw Error("Not an HTMLElement");}
function module$contents$goog$html$sanitizer$noclobber_getElementStyleSheet(element){module$contents$goog$html$sanitizer$noclobber_assertHTMLElement(element);return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$SHEET_GETTER,element,"sheet",function(sheet){return sheet instanceof CSSStyleSheet})}
function module$contents$goog$html$sanitizer$noclobber_getNodeName(node){return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$NODE_NAME_GETTER,node,"nodeName",function(name){return"string"==typeof name})}
function module$contents$goog$html$sanitizer$noclobber_getNodeType(node){return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$NODE_TYPE_GETTER,node,"nodeType",function(type){return"number"==typeof type})}
function module$contents$goog$html$sanitizer$noclobber_getParentNode(node){return module$contents$goog$html$sanitizer$noclobber_genericPropertyGet(module$contents$goog$html$sanitizer$noclobber_Methods$PARENT_NODE_GETTER,node,"parentNode",function(parentNode){return!(parentNode&&"string"==typeof parentNode.name&&parentNode.name&&"parentnode"==parentNode.name.toLowerCase())})}
function module$contents$goog$html$sanitizer$noclobber_getCssPropertyValue(cssStyle,propName){return module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$GET_PROPERTY_VALUE,cssStyle,cssStyle.getPropertyValue?"getPropertyValue":"getAttribute",[propName])||""}
function module$contents$goog$html$sanitizer$noclobber_setCssProperty(cssStyle,propName,sanitizedValue){module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$SET_PROPERTY,cssStyle,cssStyle.setProperty?"setProperty":"setAttribute",[propName,sanitizedValue])};var goog$html$sanitizer$CssSanitizer$NORM_URL_REGEXP_=/[\n\f\r"'()*<>]/g,goog$html$sanitizer$CssSanitizer$NORM_URL_REPLACEMENTS_={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},goog$html$sanitizer$CssSanitizer$SELECTOR_REGEX_=goog$userAgent.IE&&10>document.documentMode?null:/\s*([^\s'",]+[^'",]*(('([^'\r\n\f\\]|\\[^])*')|("([^"\r\n\f\\]|\\[^])*")|[^'",])*)/g,goog$html$sanitizer$CssSanitizer$normalizeUrlChar_=function(ch){return goog$html$sanitizer$CssSanitizer$NORM_URL_REPLACEMENTS_[ch]||
null},goog$html$sanitizer$CssSanitizer$ALLOWED_FUNCTIONS_="rgb rgba alpha rect image linear-gradient radial-gradient repeating-linear-gradient repeating-radial-gradient cubic-bezier matrix perspective rotate rotate3d rotatex rotatey steps rotatez scale scale3d scalex scaley scalez skew skewx skewy translate translate3d translatex translatey translatez".split(" "),goog$html$sanitizer$CssSanitizer$sanitizeStyleSheet_=function(cssStyleSheet,containerId,uriRewriter){var sanitizedRules=[],cssRules=goog$html$sanitizer$CssSanitizer$getOnlyStyleRules_(goog$array$toArray(cssStyleSheet.cssRules));
goog$array$forEach(cssRules,function(cssRule){if(containerId&&!/[a-zA-Z][\w-:\.]*/.test(containerId))throw Error("Invalid container id");if(!(containerId&&goog$userAgent.product.IE&&10==document.documentMode&&/\\['"]/.test(cssRule.selectorText))){var scopedSelector=containerId?cssRule.selectorText.replace(goog$html$sanitizer$CssSanitizer$SELECTOR_REGEX_,"#"+containerId+" $1"):cssRule.selectorText;sanitizedRules.push(goog$html$SafeStyleSheet$createRule(scopedSelector,goog$html$sanitizer$CssSanitizer$sanitizeInlineStyle(cssRule.style,
uriRewriter)))}});return goog$html$SafeStyleSheet$concat(sanitizedRules)},goog$html$sanitizer$CssSanitizer$getOnlyStyleRules_=function(cssRules){return goog$array$filter(cssRules,function(cssRule){return cssRule instanceof CSSStyleRule||cssRule.type==CSSRule.STYLE_RULE})},goog$html$sanitizer$CssSanitizer$sanitizeStyleSheetString=function(textContent,opt_containerId,opt_uriRewriter){var styleTag=goog$html$sanitizer$CssSanitizer$safeParseHtmlAndGetInertElement("<style>"+textContent+"</style>");return null==
styleTag?goog$html$SafeStyleSheet$EMPTY:goog$html$sanitizer$CssSanitizer$sanitizeStyleSheet_(styleTag.sheet,void 0!=opt_containerId?opt_containerId:null,opt_uriRewriter)},goog$html$sanitizer$CssSanitizer$safeParseHtmlAndGetInertElement=function(html){return goog$userAgent.IE&&!goog$userAgent.isVersionOrHigher(10)||"function"!=typeof goog$global.DOMParser?null:(new DOMParser).parseFromString("<html><head></head><body>"+html+"</body></html>","text/html").body.children[0]},goog$html$sanitizer$CssSanitizer$sanitizeInlineStyle=
function(cssStyle,opt_uriRewriter){if(!cssStyle)return goog$html$SafeStyle$EMPTY;for(var cleanCssStyle=document.createElement("div").style,cssPropNames=goog$html$sanitizer$CssSanitizer$getCssPropNames_(cssStyle),i=0;i<cssPropNames.length;i++){var propName=cssPropNames[i].replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i,"");if(0!=propName.lastIndexOf("--",0)&&0!=propName.lastIndexOf("var",0)){var propValue=module$contents$goog$html$sanitizer$noclobber_getCssPropertyValue(cssStyle,
propName),outputPropValue=goog$string$trim(propValue);if(""==outputPropValue)var JSCompiler_temp=null;else{var test2=String(outputPropValue.substr(0,4)).toLowerCase();if(0==("url("<test2?-1:"url("==test2?0:1)){if(opt_uriRewriter){a:{for(var str=outputPropValue.substring(4,outputPropValue.length-1),i$jscomp$0=0;2>i$jscomp$0;i$jscomp$0++){var quoteChar="\"'".charAt(i$jscomp$0);if(str.charAt(0)==quoteChar&&str.charAt(str.length-1)==quoteChar){var JSCompiler_inline_result=str.substring(1,str.length-1);
break a}}JSCompiler_inline_result=str}if(opt_uriRewriter){var safeUri=opt_uriRewriter(JSCompiler_inline_result,propName);var JSCompiler_temp$jscomp$0=safeUri&&"about:invalid#zClosurez"!=goog$html$SafeUrl$unwrap(safeUri)?'url("'+goog$html$SafeUrl$unwrap(safeUri).replace(goog$html$sanitizer$CssSanitizer$NORM_URL_REGEXP_,goog$html$sanitizer$CssSanitizer$normalizeUrlChar_)+'")':null}else JSCompiler_temp$jscomp$0=null}else JSCompiler_temp$jscomp$0=null;var JSCompiler_temp$jscomp$1=JSCompiler_temp$jscomp$0}else{if(0<
outputPropValue.indexOf("(")){var JSCompiler_temp$jscomp$2;if(!(JSCompiler_temp$jscomp$2=1<(outputPropValue?outputPropValue.split("(").length-1:0))){var JSCompiler_temp$jscomp$3;if(!(JSCompiler_temp$jscomp$3=!(0<=goog$array$indexOf(goog$html$sanitizer$CssSanitizer$ALLOWED_FUNCTIONS_,outputPropValue.substring(0,outputPropValue.indexOf("(")).toLowerCase())))){var l=outputPropValue.length-1;JSCompiler_temp$jscomp$3=!(0<=l&&outputPropValue.indexOf(")",l)==l)}JSCompiler_temp$jscomp$2=JSCompiler_temp$jscomp$3}var JSCompiler_temp$jscomp$4=
JSCompiler_temp$jscomp$2?null:outputPropValue}else JSCompiler_temp$jscomp$4=outputPropValue;JSCompiler_temp$jscomp$1=JSCompiler_temp$jscomp$4}JSCompiler_temp=JSCompiler_temp$jscomp$1}var sanitizedValue=JSCompiler_temp;null!=sanitizedValue&&module$contents$goog$html$sanitizer$noclobber_setCssProperty(cleanCssStyle,propName,sanitizedValue)}}var justification=goog$string$Const$create__googStringSecurityPrivate_("Output of CSS sanitizer"),style=cleanCssStyle.cssText||"";goog$asserts$assertString(goog$string$Const$unwrap(justification),
"must provide justification");goog$asserts$assert(!goog$string$isEmptyOrWhitespace(goog$string$Const$unwrap(justification)),"must provide non-empty justification");return(new goog$html$SafeStyle).initSecurityPrivateDoNotAccessOrElse_(style)},goog$html$sanitizer$CssSanitizer$inlineStyleRules=function(element){var styleTags=Array.from(module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$GET_ELEMENTS_BY_TAG_NAME,element,"getElementsByTagName",
["STYLE"])),cssRules=goog$array$concatMap(styleTags,function(styleTag){return goog$array$toArray(module$contents$goog$html$sanitizer$noclobber_getElementStyleSheet(styleTag).cssRules)});cssRules=goog$html$sanitizer$CssSanitizer$getOnlyStyleRules_(cssRules);cssRules.sort(function(a$jscomp$1,b$jscomp$1){var aSpecificity=module$contents$goog$html$CssSpecificity_getSpecificity(a$jscomp$1.selectorText);a:{for(var arr2=module$contents$goog$html$CssSpecificity_getSpecificity(b$jscomp$1.selectorText),l=Math.min(aSpecificity.length,
arr2.length),i=0;i<l;i++){var a=aSpecificity[i],b=arr2[i];var result=a>b?1:a<b?-1:0;if(0!=result){var JSCompiler_inline_result=result;break a}}var a$jscomp$0=aSpecificity.length,b$jscomp$0=arr2.length;JSCompiler_inline_result=a$jscomp$0>b$jscomp$0?1:a$jscomp$0<b$jscomp$0?-1:0}return-JSCompiler_inline_result});for(var subTreeWalker=document.createTreeWalker(element,NodeFilter.SHOW_ELEMENT,null,!1),currentElement;currentElement=subTreeWalker.nextNode();)goog$array$forEach(cssRules,function(rule){module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$MATCHES,
currentElement,currentElement.matches?"matches":"msMatchesSelector",[rule.selectorText])&&rule.style&&goog$html$sanitizer$CssSanitizer$mergeStyleDeclarations_(currentElement,rule.style)});goog$array$forEach(styleTags,goog$dom$removeNode)},goog$html$sanitizer$CssSanitizer$mergeStyleDeclarations_=function(element,styleDeclaration){var existingPropNames=goog$html$sanitizer$CssSanitizer$getCssPropNames_(element.style),newPropNames=goog$html$sanitizer$CssSanitizer$getCssPropNames_(styleDeclaration);goog$array$forEach(newPropNames,
function(propName){if(!(0<=existingPropNames.indexOf(propName))){var propValue=module$contents$goog$html$sanitizer$noclobber_getCssPropertyValue(styleDeclaration,propName);module$contents$goog$html$sanitizer$noclobber_setCssProperty(element.style,propName,propValue)}})},goog$html$sanitizer$CssSanitizer$getCssPropNames_=function(cssStyle){if(goog$isArrayLike(cssStyle))var propNames=goog$array$toArray(cssStyle);else propNames=goog$object$getKeys(cssStyle),goog$array$remove(propNames,"cssText");return propNames};var module$contents$goog$html$sanitizer$ElementWeakMap_NATIVE_WEAKMAP_SUPPORTED="undefined"!=typeof WeakMap&&-1!=WeakMap.toString().indexOf("[native code]"),module$contents$goog$html$sanitizer$ElementWeakMap_weakMapCount=0,module$contents$goog$html$sanitizer$ElementWeakMap_ElementWeakMap=function(){this.keys_=[];this.values_=[];this.dataAttributeName_="data-elementweakmap-index-"+module$contents$goog$html$sanitizer$ElementWeakMap_weakMapCount++};
module$contents$goog$html$sanitizer$ElementWeakMap_ElementWeakMap.prototype.set=function(elementKey,value){if(module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$HAS_ATTRIBUTE,elementKey,"hasAttribute",[this.dataAttributeName_])){var itemIndex=parseInt(module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$GET_ATTRIBUTE,elementKey,"getAttribute",[this.dataAttributeName_])||
null,10);this.values_[itemIndex]=value}else itemIndex=this.values_.push(value)-1,module$contents$goog$html$sanitizer$noclobber_setElementAttribute(elementKey,this.dataAttributeName_,itemIndex.toString()),this.keys_.push(elementKey);return this};
module$contents$goog$html$sanitizer$ElementWeakMap_ElementWeakMap.prototype.get=function(elementKey){if(module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$HAS_ATTRIBUTE,elementKey,"hasAttribute",[this.dataAttributeName_])){var itemIndex=parseInt(module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$GET_ATTRIBUTE,elementKey,"getAttribute",[this.dataAttributeName_])||null,
10);return this.values_[itemIndex]}};module$contents$goog$html$sanitizer$ElementWeakMap_ElementWeakMap.prototype.clear=function(){this.keys_.forEach(function(el){module$contents$goog$html$sanitizer$noclobber_genericMethodCall(module$contents$goog$html$sanitizer$noclobber_Methods$REMOVE_ATTRIBUTE,el,"removeAttribute",[this.dataAttributeName_])},this);this.keys_=[];this.values_=[]};var module$contents$goog$html$sanitizer$SafeDomTreeProcessor_logger=goog$debug$LogManager$getLogger("goog.html.sanitizer.SafeDomTreeProcessor"),module$contents$goog$html$sanitizer$SafeDomTreeProcessor_SAFE_PARSING_SUPPORTED=!goog$userAgent.IE||goog$userAgent.isDocumentModeOrHigher(10),module$contents$goog$html$sanitizer$SafeDomTreeProcessor_SafeDomTreeProcessor=function(){};var goog$html$sanitizer$TagBlacklist={APPLET:!0,AUDIO:!0,BASE:!0,BGSOUND:!0,EMBED:!0,FORM:!0,IFRAME:!0,ISINDEX:!0,KEYGEN:!0,LAYER:!0,LINK:!0,META:!0,OBJECT:!0,SCRIPT:!0,SVG:!0,STYLE:!0,TEMPLATE:!0,VIDEO:!0};var goog$html$sanitizer$TagWhitelist={A:!0,ABBR:!0,ACRONYM:!0,ADDRESS:!0,AREA:!0,ARTICLE:!0,ASIDE:!0,B:!0,BDI:!0,BDO:!0,BIG:!0,BLOCKQUOTE:!0,BR:!0,BUTTON:!0,CAPTION:!0,CENTER:!0,CITE:!0,CODE:!0,COL:!0,COLGROUP:!0,DATA:!0,DATALIST:!0,DD:!0,DEL:!0,DETAILS:!0,DFN:!0,DIALOG:!0,DIR:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FIELDSET:!0,FIGCAPTION:!0,FIGURE:!0,FONT:!0,FOOTER:!0,FORM:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HEADER:!0,HGROUP:!0,HR:!0,I:!0,IMG:!0,INPUT:!0,INS:!0,KBD:!0,LABEL:!0,LEGEND:!0,LI:!0,MAIN:!0,MAP:!0,
MARK:!0,MENU:!0,METER:!0,NAV:!0,NOSCRIPT:!0,OL:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,P:!0,PRE:!0,PROGRESS:!0,Q:!0,S:!0,SAMP:!0,SECTION:!0,SELECT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,STYLE:!0,SUB:!0,SUMMARY:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TEXTAREA:!0,TFOOT:!0,TH:!0,THEAD:!0,TIME:!0,TR:!0,TT:!0,U:!0,UL:!0,VAR:!0,WBR:!0};var goog$html$sanitizer$HtmlSanitizer=function(opt_builder){var builder=opt_builder||new goog$html$sanitizer$HtmlSanitizer$Builder;JSCompiler_StaticMethods_installPolicies_(builder);this.attributeHandlers_=goog$object$clone(builder.attributeWhitelist_);this.tagBlacklist_=goog$object$clone(builder.tagBlacklist_);this.tagWhitelist_=goog$object$clone(builder.tagWhitelist_);this.shouldAddOriginalTagNames_=builder.shouldAddOriginalTagNames_;goog$array$forEach(builder.dataAttributeWhitelist_,function(dataAttr){goog$asserts$assert(0==
dataAttr.lastIndexOf("data-",0));goog$asserts$assert(0!=dataAttr.lastIndexOf("data-sanitizer-",0));this.attributeHandlers_["* "+dataAttr.toUpperCase()]=goog$html$sanitizer$HtmlSanitizer$cleanUpAttribute_},this);this.networkRequestUrlPolicy_=builder.networkRequestUrlPolicy_;this.styleContainerId_=builder.styleContainerId_;this.currentStyleContainerId_=null;this.inlineStyleRules_=builder.inlineStyleRules_};goog$inherits(goog$html$sanitizer$HtmlSanitizer,module$contents$goog$html$sanitizer$SafeDomTreeProcessor_SafeDomTreeProcessor);
var goog$html$sanitizer$HtmlSanitizer$wrapUrlPolicy_=function(urlPolicy){return function(url,policyHints){var safeUrl=urlPolicy(goog$string$trim(url),policyHints);return safeUrl&&"about:invalid#zClosurez"!=goog$html$SafeUrl$unwrap(safeUrl)?goog$html$SafeUrl$unwrap(safeUrl):null}},goog$html$sanitizer$HtmlSanitizer$Builder=function(){this.attributeWhitelist_={};goog$array$forEach([goog$html$sanitizer$AttributeWhitelist,goog$html$sanitizer$AttributeSanitizedWhitelist],function(wl){goog$array$forEach(goog$object$getKeys(wl),
function(attr){this.attributeWhitelist_[attr]=goog$html$sanitizer$HtmlSanitizer$cleanUpAttribute_},this)},this);this.attributeOverrideList_={};this.dataAttributeWhitelist_=[];this.tagBlacklist_=goog$object$clone(goog$html$sanitizer$TagBlacklist);this.tagWhitelist_=goog$object$clone(goog$html$sanitizer$TagWhitelist);this.shouldAddOriginalTagNames_=!1;this.urlPolicy_=goog$html$sanitizer$HtmlSanitizer$defaultUrlPolicy_;this.sanitizeInlineCssPolicy_=this.tokenPolicy_=this.namePolicy_=this.networkRequestUrlPolicy_=
goog$functions$NULL;this.styleContainerId_=null;this.policiesInstalled_=this.inlineStyleRules_=!1},goog$html$sanitizer$HtmlSanitizer$wrapPolicy_=function(customPolicy,defaultPolicy){return function(value,hints,ctx,policy){var result=customPolicy(value,hints,ctx,policy);return null==result?null:defaultPolicy(result,hints,ctx,policy)}},goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_=function(whitelist,overrideList,key,defaultPolicy){whitelist[key]&&!overrideList[key]&&(whitelist[key]=goog$html$sanitizer$HtmlSanitizer$wrapPolicy_(whitelist[key],
defaultPolicy))},JSCompiler_StaticMethods_installPolicies_=function(JSCompiler_StaticMethods_installPolicies_$self){if(JSCompiler_StaticMethods_installPolicies_$self.policiesInstalled_)throw Error("HtmlSanitizer.Builder.build() can only be used once.");goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(JSCompiler_StaticMethods_installPolicies_$self.attributeWhitelist_,JSCompiler_StaticMethods_installPolicies_$self.attributeOverrideList_,"* USEMAP",goog$html$sanitizer$HtmlSanitizer$sanitizeUrlFragment_);
var urlPolicy=goog$html$sanitizer$HtmlSanitizer$wrapUrlPolicy_(JSCompiler_StaticMethods_installPolicies_$self.urlPolicy_);goog$array$forEach(["* ACTION","* CITE","* HREF"],function(attribute){goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(this.attributeWhitelist_,this.attributeOverrideList_,attribute,urlPolicy)},JSCompiler_StaticMethods_installPolicies_$self);var networkRequestUrlPolicy=goog$html$sanitizer$HtmlSanitizer$wrapUrlPolicy_(JSCompiler_StaticMethods_installPolicies_$self.networkRequestUrlPolicy_);
goog$array$forEach(["* LONGDESC","* SRC","LINK HREF"],function(attribute){goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(this.attributeWhitelist_,this.attributeOverrideList_,attribute,networkRequestUrlPolicy)},JSCompiler_StaticMethods_installPolicies_$self);goog$array$forEach(["* FOR","* HEADERS","* NAME"],function(attribute){goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(this.attributeWhitelist_,this.attributeOverrideList_,attribute,goog$partial(goog$html$sanitizer$HtmlSanitizer$sanitizeName_,
this.namePolicy_))},JSCompiler_StaticMethods_installPolicies_$self);goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(JSCompiler_StaticMethods_installPolicies_$self.attributeWhitelist_,JSCompiler_StaticMethods_installPolicies_$self.attributeOverrideList_,"A TARGET",goog$partial(goog$html$sanitizer$HtmlSanitizer$allowedAttributeValues_,["_blank","_self"]));goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(JSCompiler_StaticMethods_installPolicies_$self.attributeWhitelist_,JSCompiler_StaticMethods_installPolicies_$self.attributeOverrideList_,
"* CLASS",goog$partial(goog$html$sanitizer$HtmlSanitizer$sanitizeClasses_,JSCompiler_StaticMethods_installPolicies_$self.tokenPolicy_));goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(JSCompiler_StaticMethods_installPolicies_$self.attributeWhitelist_,JSCompiler_StaticMethods_installPolicies_$self.attributeOverrideList_,"* ID",goog$partial(goog$html$sanitizer$HtmlSanitizer$sanitizeId_,JSCompiler_StaticMethods_installPolicies_$self.tokenPolicy_));goog$html$sanitizer$HtmlSanitizer$installDefaultPolicy_(JSCompiler_StaticMethods_installPolicies_$self.attributeWhitelist_,
JSCompiler_StaticMethods_installPolicies_$self.attributeOverrideList_,"* STYLE",goog$partial(JSCompiler_StaticMethods_installPolicies_$self.sanitizeInlineCssPolicy_,networkRequestUrlPolicy));JSCompiler_StaticMethods_installPolicies_$self.policiesInstalled_=!0},goog$html$sanitizer$HtmlSanitizer$defaultUrlPolicy_=goog$html$SafeUrl$sanitize,goog$html$sanitizer$HtmlSanitizer$attrIdentifier_=function(nodeName,attributeName){nodeName||(nodeName="*");return(nodeName+" "+attributeName).toUpperCase()},goog$html$sanitizer$HtmlSanitizer$cleanUpAttribute_=
function(attrValue){return goog$string$trim(attrValue)},goog$html$sanitizer$HtmlSanitizer$allowedAttributeValues_=function(allowedValues,attrValue){var trimmed=goog$string$trim(attrValue);return 0<=goog$array$indexOf(allowedValues,trimmed.toLowerCase())?trimmed:null},goog$html$sanitizer$HtmlSanitizer$sanitizeUrlFragment_=function(urlFragment){var trimmed=goog$string$trim(urlFragment);return trimmed&&"#"==trimmed.charAt(0)?trimmed:null},goog$html$sanitizer$HtmlSanitizer$sanitizeName_=function(namePolicy,
attrName,policyHints){return namePolicy(goog$string$trim(attrName),policyHints)},goog$html$sanitizer$HtmlSanitizer$sanitizeClasses_=function(tokenPolicy,attrValue,policyHints){for(var classes=attrValue.split(/(?:\s+)/),sanitizedClasses=[],i=0;i<classes.length;i++){var sanitizedClass=tokenPolicy(classes[i],policyHints);sanitizedClass&&sanitizedClasses.push(sanitizedClass)}return 0==sanitizedClasses.length?null:sanitizedClasses.join(" ")},goog$html$sanitizer$HtmlSanitizer$sanitizeId_=function(tokenPolicy,
attrValue,policyHints){return tokenPolicy(goog$string$trim(attrValue),policyHints)};
goog$html$sanitizer$HtmlSanitizer.prototype.createTextNode=function(dirtyNode){var textContent=dirtyNode.data,dirtyParent=module$contents$goog$html$sanitizer$noclobber_getParentNode(dirtyNode);dirtyParent&&"style"==module$contents$goog$html$sanitizer$noclobber_getNodeName(dirtyParent).toLowerCase()&&!("STYLE"in this.tagBlacklist_)&&"STYLE"in this.tagWhitelist_&&(textContent=goog$html$SafeStyleSheet$unwrap(goog$html$sanitizer$CssSanitizer$sanitizeStyleSheetString(textContent,this.currentStyleContainerId_,
goog$bind(function(uri,propName){return this.networkRequestUrlPolicy_(uri,{cssProperty:propName})},this))));return document.createTextNode(textContent)};var goog$style$parseStyleAttribute=function(value){var result={};goog$array$forEach(value.split(/\s*;\s*/),function(pair){var keyValue=pair.match(/\s*([\w-]+)\s*:(.+)/);if(keyValue){var styleValue=goog$string$trim(keyValue[2]);result[goog$string$toCamelCase(keyValue[1].toLowerCase())]=styleValue}});return result};var marker$jscomp$inline_364=goog$dom$createElement_("DIV");marker$jscomp$inline_364.id=marker$jscomp$inline_364[goog$UID_PROPERTY_]||(marker$jscomp$inline_364[goog$UID_PROPERTY_]=++goog$uidCounter_);
var module$contents$security$asserts$assert_END_TAG_MARKER_=marker$jscomp$inline_364,module$contents$security$asserts$assert_BAD_IE_ATTRIBUTES_={methods:!0,CHECKED:!0,dataFld:!0,dataFormatAs:!0,dataSrc:!0},module$contents$security$asserts$assert_DOUBLE_EQUALITY_PREDICATE=function(var1,var2){return var1==var2},module$contents$security$asserts$assert_TO_STRING_EQUALITY_PREDICATE=function(var1,var2){return var1.toString()===var2.toString()},module$contents$security$asserts$assert_PRIMITIVE_EQUALITY_PREDICATES=
{String:module$contents$security$asserts$assert_DOUBLE_EQUALITY_PREDICATE,Number:module$contents$security$asserts$assert_DOUBLE_EQUALITY_PREDICATE,Boolean:module$contents$security$asserts$assert_DOUBLE_EQUALITY_PREDICATE,Date:function(date1,date2){return date1.getTime()==date2.getTime()},RegExp:module$contents$security$asserts$assert_TO_STRING_EQUALITY_PREDICATE,Function:module$contents$security$asserts$assert_TO_STRING_EQUALITY_PREDICATE};
function module$contents$security$asserts$assert_assertHtmlContentsMatch(htmlPattern,actual,opt_strictAttributes){var div$jscomp$0=goog$dom$createDom("DIV");div$jscomp$0.innerHTML=htmlPattern;var errorSuffix="\nExpected\n"+div$jscomp$0.innerHTML+"\nActual\n"+actual.innerHTML,actualIt=goog$iter$filter(goog$iter$map(new goog$dom$TagIterator(actual))),expectedIt=goog$iter$filter(new goog$dom$NodeIterator(div$jscomp$0)),actualNode,preIterated=!1,advanceActualNode=function(){preIterated||(actualNode=goog$iter$nextOrValue(actualIt));
for(preIterated=!1;actualNode==module$contents$security$asserts$assert_END_TAG_MARKER_||actualNode&&actualNode.nodeType==Node.COMMENT_NODE;)actualNode=goog$iter$nextOrValue(actualIt)},IE_TEXT_COLLAPSE=goog$userAgent.IE&&!goog$userAgent.isVersionOrHigher("9"),collapsible=!0,number=0;goog$iter$forEach(expectedIt,function(expectedNode){if(expectedNode.nodeType!=Node.COMMENT_NODE&&(advanceActualNode(),goog$asserts$assert(actualNode,"Finished actual HTML before finishing expected HTML at node number "+
number+": "+module$contents$security$asserts$assert_describeNode_(expectedNode)+errorSuffix),expectedNode!=div$jscomp$0)){module$contents$security$asserts$assert_assertEquals("Should have the same node type, got "+module$contents$security$asserts$assert_describeNode_(actualNode)+" but expected "+module$contents$security$asserts$assert_describeNode_(expectedNode)+"."+errorSuffix,expectedNode.nodeType,actualNode.nodeType);if(1==expectedNode.nodeType){var expectedElem=goog$asserts$assertElement(expectedNode),
actualElem=goog$asserts$assertElement(actualNode);module$contents$security$asserts$assert_assertEquals("Tag names should match"+errorSuffix,expectedElem.tagName,actualElem.tagName);module$contents$security$asserts$assert_assertObjectEquals("Should have same styles"+errorSuffix,goog$style$parseStyleAttribute(expectedElem.style.cssText),goog$style$parseStyleAttribute(actualElem.style.cssText));var strictAttributes=!!opt_strictAttributes;if(strictAttributes){for(var classes=goog$dom$classlist$get(expectedElem),
expectedClasses=[],i=0,len=classes.length;i<len;i++)classes[i]in goog$userAgent||expectedClasses.push(classes[i]);expectedClasses.sort();var actualClasses=goog$array$toArray(goog$dom$classlist$get(actualElem));actualClasses.sort();module$contents$security$asserts$assert_assertArrayEquals("Expected class was: "+expectedClasses.join(" ")+", but actual class was: "+actualElem.className+" in node "+module$contents$security$asserts$assert_describeNode_(actualElem),expectedClasses,actualClasses)}for(var expectedAttributes=
expectedElem.attributes,actualAttributes=actualElem.attributes,i$jscomp$0=0,len$jscomp$0=expectedAttributes.length;i$jscomp$0<len$jscomp$0;i$jscomp$0++){var expectedName=expectedAttributes[i$jscomp$0].name,expectedValue=module$contents$security$asserts$assert_getAttributeValue_(expectedElem,expectedName),actualAttribute=actualAttributes[expectedName],actualValue=module$contents$security$asserts$assert_getAttributeValue_(actualElem,expectedName);if(expectedValue||actualValue)if("id"==expectedName&&
goog$userAgent.IE){var expectedValue$jscomp$0=expectedValue,actualAttribute$jscomp$0=actualAttribute,errorSuffix$jscomp$0=errorSuffix;""===expectedValue$jscomp$0?strictAttributes&&module$contents$security$asserts$assert_assertTrue("Unexpected attribute with name id in element "+errorSuffix$jscomp$0,""==actualAttribute$jscomp$0.value):(goog$asserts$assert(actualAttribute$jscomp$0,"Expected to find attribute with name id, in element "+errorSuffix$jscomp$0),goog$asserts$assert(""!==actualAttribute$jscomp$0.value,
"Expected to find attribute with name id, in element "+errorSuffix$jscomp$0),module$contents$security$asserts$assert_assertEquals("Expected attribute has a different value "+errorSuffix$jscomp$0,expectedValue$jscomp$0,actualAttribute$jscomp$0.value))}else module$contents$security$asserts$assert_ignoreAttribute_(expectedName)||(goog$asserts$assert(actualAttribute,"Expected to find attribute with name "+expectedName+", in element "+module$contents$security$asserts$assert_describeNode_(actualElem)+errorSuffix),
goog$asserts$assert(String(expectedValue)===String(module$contents$security$asserts$assert_getAttributeValue_(actualElem,actualAttribute.name)),"Expected attribute "+expectedName+" has a different value "+errorSuffix))}if(strictAttributes)for(i$jscomp$0=0;i$jscomp$0<actualAttributes.length;i$jscomp$0++){var actualName=actualAttributes[i$jscomp$0].name;(actualAttribute=actualAttributes.getNamedItem(actualName))&&!module$contents$security$asserts$assert_ignoreAttribute_(actualName)&&goog$asserts$assert(expectedAttributes[actualName],
"Unexpected attribute with name "+actualName+" in element "+module$contents$security$asserts$assert_describeNode_(actualElem)+errorSuffix)}var JSCompiler_temp;if(JSCompiler_temp=IE_TEXT_COLLAPSE)JSCompiler_temp="inline"!=(actualElem.currentStyle?actualElem.currentStyle.display:null);JSCompiler_temp&&(collapsible=!0);if("template"==actualElem.tagName.toLowerCase()&&actualElem.content){var htmlPattern=expectedElem.innerHTML,actual=actualElem.innerHTML,div=goog$dom$createDom("DIV");div.innerHTML=actual;
module$contents$security$asserts$assert_assertHtmlContentsMatch(htmlPattern,div,opt_strictAttributes)}}else{var actualText=actualNode.nodeValue;for(preIterated=!0;(actualNode=goog$iter$nextOrValue(actualIt))&&3==actualNode.nodeType;)actualText+=actualNode.nodeValue;IE_TEXT_COLLAPSE&&(collapsible&&!goog$string$isEmptyOrWhitespace(actualText)&&(actualText=actualText.replace(/^[\s\xa0]+/,"")),collapsible=/\s$/.test(actualText));var expectedText=expectedNode.nodeValue.match(/^(\[\[.+\]\])?([\s\S]*)/)[2];
if(actualText&&/[^\t\n\r ]/.test(actualText)||expectedText&&/[^\t\n\r ]/.test(expectedText)){var normalizedActual=actualText.replace(/\s+/g," "),normalizedExpected=expectedText.replace(/\s+/g," ");goog$asserts$assert(normalizedExpected===normalizedActual,"Text should match"+errorSuffix)}}number++}});advanceActualNode();goog$asserts$assert(null===goog$iter$nextOrValue(actualIt),"Finished expected HTML before finishing actual HTML"+errorSuffix)}
function module$contents$security$asserts$assert_describeNode_(node){return 3==node.nodeType?"[Text: "+node.nodeValue+"]":"<"+node.tagName+(node.id?" #"+node.id:"")+" .../>"}function module$contents$security$asserts$assert_endTagMap_(node,ignore,iterator){return-1==iterator.tagType?module$contents$security$asserts$assert_END_TAG_MARKER_:node}
function module$contents$security$asserts$assert_nodeFilter_(node){if(3==node.nodeType){if(!(/[^\t\n\r ]/.test(node.nodeValue)||node.previousSibling&&3==node.previousSibling.nodeType||node.nextSibling&&3==node.nextSibling.nodeType))return!1;var match=node.nodeValue.match(/^\[\[(.+)\]\]/);if(match)return module$contents$security$asserts$assert_checkUserAgents_(match[1])}else if(node.className&&goog$isString(node.className))return module$contents$security$asserts$assert_checkUserAgents_(node.className);
return!0}function module$contents$security$asserts$assert_checkUserAgents_(userAgents){if(0==userAgents.lastIndexOf("!",0)){if(-1!=userAgents.indexOf(" "))throw Error("Only a single negative user agent may be specified");return!goog$userAgent[userAgents.substr(1)]}for(var agents=userAgents.split(" "),hasUserAgent=!1,i=0,len=agents.length;i<len;i++){var cls=agents[i];if(cls in goog$userAgent&&(hasUserAgent=!0,goog$userAgent[cls]))return!0}return!hasUserAgent}
function module$contents$security$asserts$assert_getAttributeValue_(node,name){return goog$userAgent.WEBKIT&&"INPUT"==node.tagName&&"radio"==node.type&&"checked"==name?!1:(goog$userAgent.IE||goog$userAgent.EDGE)&&"src"==name?node.getAttribute(name):void 0!==node[name]&&typeof node.getAttribute(name)!=typeof node[name]?node[name]:node.getAttribute(name)}
function module$contents$security$asserts$assert_ignoreAttribute_(name){return"style"==name||"class"==name?!0:goog$userAgent.IE&&module$contents$security$asserts$assert_BAD_IE_ATTRIBUTES_[name]}function module$contents$security$asserts$assert_assertEquals(a,b,opt_c){goog$asserts$assert(module$contents$security$asserts$assert_nonCommentArg(1,2,arguments)===module$contents$security$asserts$assert_nonCommentArg(2,2,arguments),module$contents$security$asserts$assert_commentArg(arguments))}
function module$contents$security$asserts$assert_nonCommentArg(desiredNonCommentArgIndex,expectedNumberOfNonCommentArgs,args){return args.length==expectedNumberOfNonCommentArgs+1?args[desiredNonCommentArgIndex]:args[desiredNonCommentArgIndex-1]}function module$contents$security$asserts$assert_commentArg(args){return 3==args.length?args[0]:null}
function module$contents$security$asserts$assert_assertTrue(a,opt_b){var booleanValue=module$contents$security$asserts$assert_nonCommentArg(1,1,arguments);goog$asserts$assert("boolean"==typeof booleanValue);goog$asserts$assert(booleanValue,"Call to assertTrue(boolean) with false")}
function module$contents$security$asserts$assert_assertArrayEquals(a,b,opt_c){var v1=module$contents$security$asserts$assert_nonCommentArg(1,2,arguments),v2=module$contents$security$asserts$assert_nonCommentArg(2,2,arguments),failureMessage=module$contents$security$asserts$assert_commentArg(arguments)?module$contents$security$asserts$assert_commentArg(arguments):"",typeOfVar1=module$contents$security$asserts$assert__trueTypeOf(v1);goog$asserts$assert("Array"==typeOfVar1,"Expected an array for assertArrayEquals but found a "+
typeOfVar1);var typeOfVar2=module$contents$security$asserts$assert__trueTypeOf(v2);goog$asserts$assert("Array"==typeOfVar2,"Expected an array for assertArrayEquals but found a "+typeOfVar2);module$contents$security$asserts$assert_assertObjectEquals(failureMessage,Array.prototype.concat.call(v1),Array.prototype.concat.call(v2))}
function module$contents$security$asserts$assert_assertObjectEquals(a,b,opt_c){var differences=module$contents$security$asserts$assert_findDifferences(module$contents$security$asserts$assert_nonCommentArg(1,2,arguments),module$contents$security$asserts$assert_nonCommentArg(2,2,arguments));goog$asserts$assert(!differences,differences+(module$contents$security$asserts$assert_commentArg(arguments)?module$contents$security$asserts$assert_commentArg(arguments):""))}
function module$contents$security$asserts$assert_findDifferences(expected,actual){function innerAssertWithCycleCheck(var1,var2,path){for(var i=0;i<seen1.length;++i){var match1=seen1[i]===var1,match2=seen2[i]===var2;if(match1||match2){match1&&match2||failures.push("Asymmetric cycle detected at "+path);return}}seen1.push(var1);seen2.push(var2);innerAssertImplementation(var1,var2,path);seen1.pop();seen2.pop()}function innerAssertImplementation(var1,var2,path){if(var1!==var2){var typeOfVar1=module$contents$security$asserts$assert__trueTypeOf(var1),
typeOfVar2=module$contents$security$asserts$assert__trueTypeOf(var2);if(typeOfVar1==typeOfVar2){var isArray="Array"==typeOfVar1,errorMessage=equalityPredicate(typeOfVar1,var1,var2);if(null!=errorMessage)""!=errorMessage&&failures.push(path+": "+errorMessage);else if(isArray&&var1.length!=var2.length)failures.push(path+": Expected "+var1.length+"-element array but got a "+var2.length+"-element array");else if("String"==typeOfVar1)var1!=var2&&failures.push(path+': Expected String "'+var1+'" but got "'+
var2+'"');else{var childPath=path+(isArray?"[%s]":path?".%s":"%s");if("undefined"!=typeof Map&&var1 instanceof Map||"undefined"!=typeof Set&&var1 instanceof Set)var1.forEach(function(value,key){var2.has(key)?var2.get&&innerAssertWithCycleCheck(value,var2.get(key),childPath.replace("%s",key)):failures.push(key+" not present in actual "+(path||typeOfVar2))}),var2.forEach(function(value,key){var1.has(key)||failures.push(key+" not present in expected "+(path||typeOfVar1))});else if(var1.__iterator__)goog$isFunction(var1.equals)?
var1.equals(var2)||failures.push("equals() returned false for "+(path||typeOfVar1)):var1.map_?innerAssertWithCycleCheck(var1.map_,var2.map_,childPath.replace("%s","map_")):failures.push("unable to check "+(path||typeOfVar1)+" for equality: it has an iterator we do not know how to handle. please add an equals method");else{for(var prop in var1)isArray&&(prop|0)==prop||(prop in var2?innerAssertWithCycleCheck(var1[prop],var2[prop],childPath.replace("%s",prop)):failures.push("property "+prop+" not present in actual "+
(path||typeOfVar2)));for(prop in var2)isArray&&(prop|0)==prop||prop in var1||failures.push("property "+prop+" not present in expected "+(path||typeOfVar1));if(isArray)for(prop=0;prop<var1.length;prop++)innerAssertWithCycleCheck(var1[prop],var2[prop],childPath.replace("%s",String(prop)))}}}else failures.push(path)}}var failures=[],seen1=[],seen2=[],equalityPredicate=function(type,var1,var2){var typedPredicate=module$contents$security$asserts$assert_PRIMITIVE_EQUALITY_PREDICATES[type];return typedPredicate?
typedPredicate(var1,var2)?"":"string"==typeof var1&&"string"==typeof var2?var1+" does not equal to "+var2:"Expected object does not match actual":null};innerAssertWithCycleCheck(expected,actual,"");return failures.join("\n   ")}
function module$contents$security$asserts$assert__trueTypeOf(something){var result=typeof something;try{switch(result){case "object":if(null==something){result="null";break}case "function":switch(something.constructor){case (new String("")).constructor:result="String";break;case (new Boolean(!0)).constructor:result="Boolean";break;case (new Number(0)).constructor:result="Number";break;case [].constructor:result="Array";break;case RegExp().constructor:result="RegExp";break;case (new Date).constructor:result=
"Date";break;case Function:result="Function";break;default:var m=something.constructor.toString().match(/function\s*([^( ]+)\(/);m&&(result=m[1])}}}catch(e){}finally{result=result.substr(0,1).toUpperCase()+result.substr(1)}return result};var security$sanitizer$htmlSanitizer$sanitizeHtmlAssertUnchanged=function(html$jscomp$2){var JSCompiler_StaticMethods_build$self=new goog$html$sanitizer$HtmlSanitizer$Builder,JSCompiler_StaticMethods_sanitize$self=new goog$html$sanitizer$HtmlSanitizer(JSCompiler_StaticMethods_build$self),randomStyleContainmentNecessary=!("STYLE"in JSCompiler_StaticMethods_sanitize$self.tagBlacklist_)&&"STYLE"in JSCompiler_StaticMethods_sanitize$self.tagWhitelist_;var JSCompiler_inline_result="*"==JSCompiler_StaticMethods_sanitize$self.styleContainerId_&&
randomStyleContainmentNecessary?"sanitizer-"+(Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog$now()).toString(36)):JSCompiler_StaticMethods_sanitize$self.styleContainerId_;JSCompiler_StaticMethods_sanitize$self.currentStyleContainerId_=JSCompiler_inline_result;if(module$contents$goog$html$sanitizer$SafeDomTreeProcessor_SAFE_PARSING_SUPPORTED){var html=html$jscomp$2;if(module$contents$goog$html$sanitizer$SafeDomTreeProcessor_SAFE_PARSING_SUPPORTED){var newRoot=
goog$dom$createElement_("SPAN");JSCompiler_StaticMethods_sanitize$self.currentStyleContainerId_&&"*"==JSCompiler_StaticMethods_sanitize$self.styleContainerId_&&(newRoot.id=JSCompiler_StaticMethods_sanitize$self.currentStyleContainerId_);if(JSCompiler_StaticMethods_sanitize$self.inlineStyleRules_){var inertUnsanitizedDom=goog$html$sanitizer$CssSanitizer$safeParseHtmlAndGetInertElement("<div>"+html+"</div>");goog$asserts$assert(inertUnsanitizedDom,"Older browsers that don't support inert parsing should not get to this branch");
goog$html$sanitizer$CssSanitizer$inlineStyleRules(inertUnsanitizedDom);html=inertUnsanitizedDom.innerHTML}var html$jscomp$0=html,templateElement=document.createElement("template");if("content"in templateElement){templateElement.innerHTML=html$jscomp$0;var iteratorParent=templateElement.content}else{var doc=document.implementation.createHTMLDocument("x");iteratorParent=doc.body;doc.body.innerHTML=html$jscomp$0}var originalTreeWalker=document.createTreeWalker(iteratorParent,NodeFilter.SHOW_ELEMENT|
NodeFilter.SHOW_TEXT,null,!1);for(var elementMap=module$contents$goog$html$sanitizer$ElementWeakMap_NATIVE_WEAKMAP_SUPPORTED?new WeakMap:new module$contents$goog$html$sanitizer$ElementWeakMap_ElementWeakMap,originalNode;originalNode=originalTreeWalker.nextNode();){c:{var JSCompiler_StaticMethods_createNode_$self=JSCompiler_StaticMethods_sanitize$self,originalNode$jscomp$0=originalNode,nodeType=module$contents$goog$html$sanitizer$noclobber_getNodeType(originalNode$jscomp$0);switch(nodeType){case 3:var newNode=
JSCompiler_StaticMethods_createNode_$self.createTextNode(originalNode$jscomp$0);break c;case 1:var JSCompiler_temp_const=JSCompiler_StaticMethods_createNode_$self,node=originalNode$jscomp$0;1==module$contents$goog$html$sanitizer$noclobber_getNodeType(node)||goog$asserts$fail("Expected Node of type Element but got Node of type %s",module$contents$goog$html$sanitizer$noclobber_getNodeType(node));var attribute,JSCompiler_StaticMethods_createElement_$self=JSCompiler_temp_const,originalElement=node;if("TEMPLATE"==
module$contents$goog$html$sanitizer$noclobber_getNodeName(originalElement).toUpperCase())newNode=null;else{var dirtyName=module$contents$goog$html$sanitizer$noclobber_getNodeName(originalElement).toUpperCase();if(dirtyName in JSCompiler_StaticMethods_createElement_$self.tagBlacklist_)var newElement=null;else if(JSCompiler_StaticMethods_createElement_$self.tagWhitelist_[dirtyName])newElement=document.createElement(dirtyName);else{var spanElement=goog$dom$createElement_("SPAN");JSCompiler_StaticMethods_createElement_$self.shouldAddOriginalTagNames_&&
module$contents$goog$html$sanitizer$noclobber_setElementAttribute(spanElement,"data-sanitizer-original-tag",dirtyName.toLowerCase());newElement=spanElement}if(newElement){var newElement$jscomp$0=newElement,attributes=module$contents$goog$html$sanitizer$noclobber_getElementAttributes(originalElement);if(null!=attributes)for(var i=0;attribute=attributes[i];i++)if(attribute.specified){var JSCompiler_StaticMethods_processElementAttribute$self=JSCompiler_StaticMethods_createElement_$self,dirtyElement=
originalElement,attribute$jscomp$0=attribute,attributeName=attribute$jscomp$0.name;if(0==attributeName.lastIndexOf("data-sanitizer-",0))var newValue=null;else{var elementName=module$contents$goog$html$sanitizer$noclobber_getNodeName(dirtyElement),unsanitizedAttrValue=attribute$jscomp$0.value,policyHints={tagName:goog$string$trim(elementName).toLowerCase(),attributeName:goog$string$trim(attributeName).toLowerCase()},policyContext={cssStyle:void 0};"style"==policyHints.attributeName&&(policyContext.cssStyle=
module$contents$goog$html$sanitizer$noclobber_getElementStyle(dirtyElement));var tagHandlerIndex=goog$html$sanitizer$HtmlSanitizer$attrIdentifier_(elementName,attributeName);if(tagHandlerIndex in JSCompiler_StaticMethods_processElementAttribute$self.attributeHandlers_){var handler=JSCompiler_StaticMethods_processElementAttribute$self.attributeHandlers_[tagHandlerIndex];newValue=handler(unsanitizedAttrValue,policyHints,policyContext)}else{var genericHandlerIndex=goog$html$sanitizer$HtmlSanitizer$attrIdentifier_(null,
attributeName);genericHandlerIndex in JSCompiler_StaticMethods_processElementAttribute$self.attributeHandlers_?(handler=JSCompiler_StaticMethods_processElementAttribute$self.attributeHandlers_[genericHandlerIndex],newValue=handler(unsanitizedAttrValue,policyHints,policyContext)):newValue=null}}null===newValue||module$contents$goog$html$sanitizer$noclobber_setElementAttribute(newElement$jscomp$0,attribute.name,newValue)}newNode=newElement}else newNode=null}break c;default:var logger=module$contents$goog$html$sanitizer$SafeDomTreeProcessor_logger;
logger&&logger.log(goog$debug$Logger$Level$WARNING,"Dropping unknown node type: "+nodeType,void 0);newNode=null}}if(newNode){1==module$contents$goog$html$sanitizer$noclobber_getNodeType(newNode)&&elementMap.set(originalNode,newNode);var originalParent=module$contents$goog$html$sanitizer$noclobber_getParentNode(originalNode),isParentRoot=!1;if(originalParent){var originalParentNodeType=module$contents$goog$html$sanitizer$noclobber_getNodeType(originalParent),originalParentNodeName=module$contents$goog$html$sanitizer$noclobber_getNodeName(originalParent).toLowerCase(),
originalGrandParent=module$contents$goog$html$sanitizer$noclobber_getParentNode(originalParent);if(11==originalParentNodeType&&!originalGrandParent)isParentRoot=!0;else if("body"==originalParentNodeName&&originalGrandParent){var dirtyGreatGrandParent=module$contents$goog$html$sanitizer$noclobber_getParentNode(originalGrandParent);dirtyGreatGrandParent&&!module$contents$goog$html$sanitizer$noclobber_getParentNode(dirtyGreatGrandParent)&&(isParentRoot=!0)}var newParent=null;isParentRoot||!originalParent?
newParent=newRoot:1==module$contents$goog$html$sanitizer$noclobber_getNodeType(originalParent)&&(newParent=elementMap.get(originalParent));newParent.content&&(newParent=newParent.content);newParent.appendChild(newNode)}}else for(var child,node$jscomp$0=originalNode;child=node$jscomp$0.firstChild;)node$jscomp$0.removeChild(child)}elementMap.clear&&elementMap.clear();var newTree=newRoot}else newTree=goog$dom$createElement_("SPAN");if(0<module$contents$goog$html$sanitizer$noclobber_getElementAttributes(newTree).length){var newRoot$jscomp$0=
goog$dom$createElement_("SPAN");newRoot$jscomp$0.appendChild(newTree);newTree=newRoot$jscomp$0}var serializedNewTree=(new XMLSerializer).serializeToString(newTree);var sanitizedString=serializedNewTree.slice(serializedNewTree.indexOf(">")+1,serializedNewTree.lastIndexOf("</"))}else sanitizedString="";var justification=goog$string$Const$create__googStringSecurityPrivate_("Output of HTML sanitizer"),html$jscomp$1=sanitizedString;goog$asserts$assertString(goog$string$Const$unwrap(justification),"must provide justification");
goog$asserts$assert(!goog$string$isEmptyOrWhitespace(goog$string$Const$unwrap(justification)),"must provide non-empty justification");var safeHtml=(new goog$html$SafeHtml).initSecurityPrivateDoNotAccessOrElse_(html$jscomp$1);var el=goog$dom$createElement_("DIV");el.innerHTML=safeHtml.getTypedStringValue();module$contents$security$asserts$assert_assertHtmlContentsMatch(html$jscomp$2,el,!1);return safeHtml};function headerTitleElement(){return document.getElementById("header-title")}function headerTextElement(){return document.getElementById("header-text")}function pairingTitleElement(){return document.getElementById("pairing-title")}function pairingButtonElement(){return document.getElementById("pairing-button")}function pairingButtonTitleElement(){return document.getElementById("pairing-button-title")}function pairingLinkElement(){return document.getElementById("pairing-link")}
function enablePairingButton(){pairingButtonElement().removeAttribute("disabled");pairingButtonElement().focus()}
function fadingTransition(element,opt_willFadeIn,opt_didFadeIn){var fadeInEndHandler=function(){element.classList.remove("animated-fade-in");element.removeEventListener("webkitAnimationEnd",fadeInEndHandler)},fadeOutEndHandler=function(){element.classList.remove("animated-fade-out");element.removeEventListener("webkitAnimationEnd",fadeOutEndHandler);opt_willFadeIn&&opt_willFadeIn(element);element.classList.add("animated-fade-in");element.addEventListener("webkitAnimationEnd",fadeInEndHandler);opt_didFadeIn&&
opt_didFadeIn(element)};element.classList.add("animated-fade-out");element.addEventListener("webkitAnimationEnd",fadeOutEndHandler)}function linkifyHeaderText(element,url){var links=element.getElementsByTagName("a");1!=links.length?console.error("UI string for header is missing the link element."):(links[0].href=url,links[0].setAttribute("target","_blank"))}
var ui$PairingDialog=function(isPromoInitiatedFlow){this.state_=new ui$FindPhoneState(this);this.progress_=0;this.pairingImages_=[];this.isPromoInitiatedFlow_=isPromoInitiatedFlow;this.recordedProgressEvents_=new Set;this.focusListener_=this.toggleErrorBubbleTimeout_=this.errorMessage_=null},ui$PairingDialog$decorateWithAnimatedEllipsis=function(element,template){goog$dom$safe$setInnerHtml(element,security$sanitizer$htmlSanitizer$sanitizeHtmlAssertUnchanged(template.replace("$ELLIPSIS",'<span class="animated-ellipsis-component0">.</span><span class="animated-ellipsis-component1">.</span><span class="animated-ellipsis-component2">.</span>')))},
JSCompiler_StaticMethods_clearErrorMessage=function(JSCompiler_StaticMethods_clearErrorMessage$self){JSCompiler_StaticMethods_clearErrorMessage$self.errorMessage_=null;chrome.easyUnlockPrivate.hideErrorBubble()},JSCompiler_StaticMethods_recordProgressEvent=function(JSCompiler_StaticMethods_recordProgressEvent$self,event){JSCompiler_StaticMethods_recordProgressEvent$self.recordedProgressEvents_.has(event)||(JSCompiler_StaticMethods_recordProgressEvent$self.recordedProgressEvents_.add(event),app$Metrics$recordEnum_(JSCompiler_StaticMethods_recordProgressEvent$self.isPromoInitiatedFlow_?
"Setup.Progress.ViaPromo":"Setup.Progress.SansPromo",event,app$Metrics$SetupProgressHistogramValues_))};
ui$PairingDialog.prototype.showErrorBubble=function(message){if(window.document.hasFocus()){this.errorMessage_=message;var anchorRect=pairingButtonElement().getBoundingClientRect(),linkStart=message.indexOf("<a>");message=message.replace("<a>","");var linkEnd=message.indexOf("</a>");message=message.replace("</a>","");chrome.easyUnlockPrivate.showErrorBubble(message,{start:-1!=linkStart?linkStart:0,end:-1!=linkEnd?linkEnd:0},"https://support.google.com/chromebook/?p=smart_lock",{left:anchorRect.left-
8,top:anchorRect.top-8,width:anchorRect.width+16,height:anchorRect.height+16})}else this.focusListener_&&window.removeEventListener("focus",this.focusListener_),this.focusListener_=function(){this.showErrorBubble(message);window.removeEventListener("focus",this.focusListener_);this.focusListener_=null}.bind(this),window.addEventListener("focus",this.focusListener_)};
ui$PairingDialog.prototype.start=function(){JSCompiler_StaticMethods_transitionToState(this,this.state_,this.progress_);JSCompiler_StaticMethods_recordProgressEvent(this,"launched-setup-app");document.addEventListener("keydown",function(){document.body.classList.remove("no-focus-outline")},!1);document.addEventListener("mousedown",function(){document.body.classList.add("no-focus-outline")},!1);var toggleErrorBubbleCallback=function(event){window.clearTimeout(this.toggleErrorBubbleTimeout_);this.toggleErrorBubbleTimeout_=
window.setTimeout(function(){"mouseout"===event.type?chrome.easyUnlockPrivate.hideErrorBubble():window.document.hasFocus()&&this.errorMessage_&&this.showErrorBubble(this.errorMessage_);this.toggleErrorBubbleTimeout_=null}.bind(this),200)}.bind(this);pairingButtonElement().addEventListener("mouseover",toggleErrorBubbleCallback);pairingButtonElement().addEventListener("mouseout",toggleErrorBubbleCallback)};
var JSCompiler_StaticMethods_transitionToState=function(JSCompiler_StaticMethods_transitionToState$self,nextState,opt_nextProgress){JSCompiler_StaticMethods_transitionToState$self.state_&&JSCompiler_StaticMethods_transitionToState$self.state_.cleanUp();JSCompiler_StaticMethods_transitionToState$self.progress_=void 0!=opt_nextProgress?opt_nextProgress:Math.min(JSCompiler_StaticMethods_transitionToState$self.progress_+1,2);for(var i=0;3>i;++i){var img=document.getElementById("progress-img-"+(i+1));
i<=JSCompiler_StaticMethods_transitionToState$self.progress_?(img.classList.remove("progress-image-empty"),img.classList.add("progress-image-full")):(img.classList.remove("progress-image-full"),img.classList.add("progress-image-empty"))}JSCompiler_StaticMethods_transitionToState$self.state_=nextState;JSCompiler_StaticMethods_transitionToState$self.state_.start()},JSCompiler_StaticMethods_animateImages=function(JSCompiler_StaticMethods_animateImages$self,phone,laptop){for(var images=[app$ResourceUtil$Icon$HAND_HOLDER,
phone,laptop],elements=[document.getElementById("pairing-image-holder"),document.getElementById("pairing-image-phone"),document.getElementById("pairing-image-laptop")],i=0;i<images.length;++i)JSCompiler_StaticMethods_animateImages$self.pairingImages_[i]&&JSCompiler_StaticMethods_animateImages$self.pairingImages_[i]==images[i].path||(JSCompiler_StaticMethods_animateImages$self.pairingImages_[i]=images[i].path,fadingTransition(elements[i],function(newImage,element){element.style.backgroundImage="-webkit-image-set(url("+
app$ResourceUtil$getIconPath(newImage,1)+") 1x,url("+app$ResourceUtil$getIconPath(newImage,2)+") 2x)"}.bind(void 0,images[i])))},ui$PairingDialogState=function(pairingDialog){this.stateId="abstract";this.pairingDialog=pairingDialog};ui$PairingDialogState.prototype.start=function(){document.body.setAttribute("step",this.stateId);this.initializeUI()};ui$PairingDialogState.prototype.initializeUI=function(){console.error("Not Implemented")};ui$PairingDialogState.prototype.cleanUp=function(){};
var ui$FindPhoneState=function(pairingDialog,opt_waitForUserInput){ui$PairingDialogState.call(this,pairingDialog);this.stateId="scan";this.delegate_=null;this.tryCount_=0;this.waitForUserInput_=void 0!==opt_waitForUserInput?opt_waitForUserInput:!0};goog$inherits(ui$FindPhoneState,ui$PairingDialogState);
ui$FindPhoneState.prototype.initializeUI=function(){JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_HELD_KEY,app$ResourceUtil$Icon$LAPTOP);fadingTransition(headerTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupIntroHeaderTitle});fadingTransition(headerTextElement(),function(el){goog$dom$safe$setInnerHtml(el,security$sanitizer$htmlSanitizer$sanitizeHtmlAssertUnchanged(app$ResourceUtil$strings_.setupIntroHeaderText));linkifyHeaderText(el,
"https://support.google.com/chromebook/?p=smart_lock")});this.setInitialPairingUI_();this.clickListener_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-find-phone");JSCompiler_StaticMethods_startScan_(this)}.bind(this);pairingButtonElement().addEventListener("click",this.clickListener_);this.waitForUserInput_||JSCompiler_StaticMethods_startScan_(this)};
ui$FindPhoneState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.clickListener_);enablePairingButton();JSCompiler_StaticMethods_clearErrorMessage(this.pairingDialog)};
var JSCompiler_StaticMethods_startScan_=function(JSCompiler_StaticMethods_startScan_$self){JSCompiler_StaticMethods_clearErrorMessage(JSCompiler_StaticMethods_startScan_$self.pairingDialog);0<JSCompiler_StaticMethods_startScan_$self.tryCount_&&JSCompiler_StaticMethods_startScan_$self.setInitialPairingUI_();fadingTransition(pairingButtonTitleElement(),function(el){ui$PairingDialog$decorateWithAnimatedEllipsis(el,app$ResourceUtil$strings_.setupIntroFindingPhoneButtonLabel+"$ELLIPSIS")});pairingButtonElement().setAttribute("disabled",
"");pairingButtonElement().classList.remove("decorated-with-bluetooth-icon");JSCompiler_StaticMethods_startScan_$self.delegate_=new app$AppSetupFlowDelegate(JSCompiler_StaticMethods_startScan_$self.onConnection_.bind(JSCompiler_StaticMethods_startScan_$self));JSCompiler_StaticMethods_setFoundEligibleDevicesCallback(JSCompiler_StaticMethods_startScan_$self.delegate_,JSCompiler_StaticMethods_startScan_$self.onFoundEligibleDevices_.bind(JSCompiler_StaticMethods_startScan_$self));JSCompiler_StaticMethods_setCompletionCallback(JSCompiler_StaticMethods_startScan_$self.delegate_,
JSCompiler_StaticMethods_startScan_$self.onCompletion_.bind(JSCompiler_StaticMethods_startScan_$self));(new easyUnlock$SetupFlow(JSCompiler_StaticMethods_startScan_$self.delegate_)).start()};
ui$FindPhoneState.prototype.onConnection_=function(connection){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"remote-device-connected");app$Metrics$recordBooleanHistogram_("Setup.Devices.HasSecureLockScreen",this.delegate_.hasSecureLockScreenEnabled());app$Metrics$recordBooleanHistogram_("Setup.Devices.HasTrustAgentEnabled",this.delegate_.hasTrustAgentEnabled());this.delegate_.hasSecureLockScreenEnabled()?JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$PairPhoneState(this.pairingDialog,
connection,this.delegate_)):JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$RequireSecureLockScreenState(this.pairingDialog,connection,this.delegate_))};ui$FindPhoneState.prototype.onFoundEligibleDevices_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"server-returned-eligible-devices")};
ui$FindPhoneState.prototype.onCompletion_=function(result){console.log('Unexpected call to ui.FindPhoneState.onCompletion_, with error "'+result+'"');JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"find-phone-error");var mostRelevantDevice=JSCompiler_StaticMethods_getMostRelevantIneligibleDevice(this.delegate_),remoteDeviceSoftwareIsOutOfDate=mostRelevantDevice&&("badOsVersion"===mostRelevantDevice.reasons[0]||"badDeviceSoftwareVersion"===mostRelevantDevice.reasons[0]);this.delegate_=
null;if("failure_on_enroll"==result||"failure_on_find_request"==result)var errorMessage=app$ResourceUtil$strings_.setupErrorOffline;else if("failure_bluetooth_unavailable"==result)errorMessage=app$ResourceUtil$strings_.setupErrorBluetoothUnavailable;else{if(remoteDeviceSoftwareIsOutOfDate){JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$RemoteSoftwareOutOfDateState(this.pairingDialog,mostRelevantDevice.device.friendlyDeviceName));return}errorMessage=app$ResourceUtil$strings_.setupErrorFindingPhone}enablePairingButton();
fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupIntroRetryFindPhoneButtonLabel},function(){this.pairingDialog.showErrorBubble(errorMessage)});++this.tryCount_};
ui$FindPhoneState.prototype.setInitialPairingUI_=function(){enablePairingButton();pairingButtonElement().classList.add("decorated-with-bluetooth-icon");fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupIntroFindPhoneButtonLabel});fadingTransition(pairingTitleElement(),function(el){document.body.setAttribute("error","false");el.textContent=""});fadingTransition(pairingLinkElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupIntroHowIsThisSecureLinkText;
el.href="https://support.google.com/chromebook/?p=smart_lock"})};var ui$RequireSecureLockScreenState=function(pairingDialog,connection,delegate){ui$PairingDialogState.call(this,pairingDialog);this.stateId="require-secure-lock-screen";this.connection_=connection;this.delegate_=delegate};goog$inherits(ui$RequireSecureLockScreenState,ui$PairingDialogState);
ui$RequireSecureLockScreenState.prototype.initializeUI=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"missing-secure-lock-screen");JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_HELD_KEY_ERROR,app$ResourceUtil$Icon$LAPTOP);fadingTransition(headerTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupSecurePhoneHeaderTitle.replace("$1",this.connection_.easyUnlockDevice_.name)}.bind(this));fadingTransition(headerTextElement(),
function(el){el.textContent=app$ResourceUtil$strings_.setupSecurePhoneHeaderText});fadingTransition(pairingTitleElement(),function(el){document.body.setAttribute("error","false");el.textContent=""});fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupSecurePhoneButtonLabel});fadingTransition(pairingLinkElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupSecurePhoneLinkText;el.removeAttribute("href")});this.buttonClickListener_=function(){window.open("https://support.google.com/chromebook/?p=smart_lock#temporarily_turn_off_easy_unlock",
"_blank")};pairingButtonElement().addEventListener("click",this.buttonClickListener_);this.linkClickListener_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-check-again-after-missing-secure-lock-screen");(this.connection_.isConnected()||1==this.connection_.connectionStatus_)&&this.connection_.disconnect();JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$FindPhoneState(this.pairingDialog,!1),0)}.bind(this);pairingLinkElement().addEventListener("click",
this.linkClickListener_)};ui$RequireSecureLockScreenState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.buttonClickListener_);pairingLinkElement().removeEventListener("click",this.linkClickListener_)};var ui$RemoteSoftwareOutOfDateState=function(pairingDialog,deviceName){ui$PairingDialogState.call(this,pairingDialog);this.stateId="remote-software-out-of-date";this.deviceName_=deviceName};goog$inherits(ui$RemoteSoftwareOutOfDateState,ui$PairingDialogState);
ui$RemoteSoftwareOutOfDateState.prototype.initializeUI=function(){JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_HELD_KEY_ERROR,app$ResourceUtil$Icon$LAPTOP);this.clickListener_=function(){closeApp()};pairingButtonElement().addEventListener("click",this.clickListener_);fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupIntroCloseFindPhoneButtonLabel},function(){var errorMessage=null!==this.deviceName_?app$ResourceUtil$strings_.setupErrorRemoteSoftwareOutOfDate.replace("$1",
this.deviceName_):app$ResourceUtil$strings_.setupErrorRemoteSoftwareOutOfDateGeneric;this.pairingDialog.showErrorBubble(errorMessage)}.bind(this))};ui$RemoteSoftwareOutOfDateState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.clickListener_)};var ui$PairPhoneState=function(pairingDialog,connection,delegate){ui$PairingDialogState.call(this,pairingDialog);this.stateId="pair";this.connection_=connection;this.delegate_=delegate};goog$inherits(ui$PairPhoneState,ui$PairingDialogState);
ui$PairPhoneState.prototype.initializeUI=function(){JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_IN_PROGRESS,app$ResourceUtil$Icon$LAPTOP);fadingTransition(headerTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupFoundPhoneHeaderTitle});fadingTransition(headerTextElement(),function(el){goog$dom$safe$setInnerHtml(el,security$sanitizer$htmlSanitizer$sanitizeHtmlAssertUnchanged(app$ResourceUtil$strings_.setupFoundPhoneHeaderText));linkifyHeaderText(el,
"https://support.google.com/chromebook/?p=smart_lock#temporarily_turn_off_easy_unlock")});this.setInitialPairingUI_();this.clickListener=this.confirmPair_.bind(this);pairingButtonElement().addEventListener("click",this.clickListener);JSCompiler_StaticMethods_setCompletionCallback(this.delegate_,this.onCompletion_.bind(this))};ui$PairPhoneState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.clickListener);enablePairingButton();JSCompiler_StaticMethods_clearErrorMessage(this.pairingDialog)};
ui$PairPhoneState.prototype.confirmPair_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-pair-phone");fadingTransition(pairingButtonTitleElement(),function(el){ui$PairingDialog$decorateWithAnimatedEllipsis(el,app$ResourceUtil$strings_.setupFoundPhoneUseThisPhoneButtonLabel+"$ELLIPSIS")});pairingButtonElement().setAttribute("disabled","");JSCompiler_StaticMethods_pairDevice(this.delegate_,this.connection_)};
ui$PairPhoneState.prototype.onCompletion_=function(result){(this.connection_.isConnected()||1==this.connection_.connectionStatus_)&&this.connection_.disconnect();"success_already_enrolled"==result?(JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"pairing-complete"),chrome.runtime.sendMessage("pairingCompleted"),chrome.storage.local.set({easyUnlockEnabled:!0},function(){this.delegate_.hasTrustAgentEnabled()?JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$PairCompleteState(this.pairingDialog)):
JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$PromoteSmartLockForAndroidState(this.pairingDialog),1)}.bind(this))):(JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"pairing-error"),console.error('Unexpected call to ui.PairPhoneState.onCompletion_, with error "'+result+'"'),JSCompiler_StaticMethods_setErrorPairingUI_(this,"failure_sync_failed"==result?app$ResourceUtil$strings_.setupErrorSyncPhoneState:app$ResourceUtil$strings_.setupErrorConnectingToPhone))};
var JSCompiler_StaticMethods_setErrorPairingUI_=function(JSCompiler_StaticMethods_setErrorPairingUI_$self,errorMessage){enablePairingButton();fadingTransition(pairingTitleElement(),function(el){el.textContent=""});fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupPairingPhoneFailedButtonLabel},function(){this.pairingDialog.showErrorBubble(errorMessage)});pairingButtonElement().removeEventListener("click",JSCompiler_StaticMethods_setErrorPairingUI_$self.clickListener);
JSCompiler_StaticMethods_setErrorPairingUI_$self.clickListener=JSCompiler_StaticMethods_setErrorPairingUI_$self.restartSetup_.bind(JSCompiler_StaticMethods_setErrorPairingUI_$self);pairingButtonElement().addEventListener("click",JSCompiler_StaticMethods_setErrorPairingUI_$self.clickListener)};
ui$PairPhoneState.prototype.restartSetup_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-restart-setup-after-pairing-error");JSCompiler_StaticMethods_clearErrorMessage(this.pairingDialog);(this.connection_.isConnected()||1==this.connection_.connectionStatus_)&&this.connection_.disconnect();JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$FindPhoneState(this.pairingDialog),0)};
ui$PairPhoneState.prototype.setInitialPairingUI_=function(){var device=this.connection_.easyUnlockDevice_;fadingTransition(pairingTitleElement(),function(el){document.body.setAttribute("error","false");el.textContent=device.name});fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupFoundPhoneUseThisPhoneButtonLabel});fadingTransition(pairingLinkElement(),function(el){el.textContent=""})};
var ui$PromoteSmartLockForAndroidState=function(pairingDialog){ui$PairingDialogState.call(this,pairingDialog);this.stateId="promote-smart-lock-for-android"};goog$inherits(ui$PromoteSmartLockForAndroidState,ui$PairingDialogState);
ui$PromoteSmartLockForAndroidState.prototype.initializeUI=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"showed-smart-lock-for-android-promo");JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_ENABLE_ANDROID_SMART_LOCK,app$ResourceUtil$Icon$LAPTOP);fadingTransition(headerTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupAndroidSmartLockHeaderTitle});fadingTransition(headerTextElement(),function(el){el.textContent=
app$ResourceUtil$strings_.setupAndroidSmartLockHeaderText});fadingTransition(pairingTitleElement(),function(el){el.textContent=""});fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupAndroidSmartLockDoneButtonText});fadingTransition(pairingLinkElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupAndroidSmartLockAboutLinkText;el.href="https://support.google.com/chromebook/?p=smart_lock_android"});this.clickListener=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,
"acknowledged-smart-lock-for-android-promo");JSCompiler_StaticMethods_transitionToState(this.pairingDialog,new ui$PairCompleteState(this.pairingDialog))}.bind(this);pairingButtonElement().addEventListener("click",this.clickListener)};ui$PromoteSmartLockForAndroidState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.clickListener)};var ui$PairCompleteState=function(pairingDialog){ui$PairingDialogState.call(this,pairingDialog);this.stateId="complete"};
goog$inherits(ui$PairCompleteState,ui$PairingDialogState);
ui$PairCompleteState.prototype.initializeUI=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"showed-pairing-complete");JSCompiler_StaticMethods_animateImages(this.pairingDialog,app$ResourceUtil$Icon$PHONE_PAIRED,app$ResourceUtil$Icon$LAPTOP_PAIRED);fadingTransition(headerTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupCompleteHeaderTitle});fadingTransition(headerTextElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupCompleteHeaderText});
fadingTransition(pairingTitleElement(),function(el){el.textContent=""});fadingTransition(pairingButtonTitleElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupCompleteTryItOutButtonLabel});fadingTransition(pairingLinkElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupCompleteSettingsLinkText;el.href="https://support.google.com/chromebook/?p=smart_lock"});this.clickListener=this.lockScreen_.bind(this);pairingButtonElement().addEventListener("click",this.clickListener)};
ui$PairCompleteState.prototype.cleanUp=function(){pairingButtonElement().removeEventListener("click",this.clickListener)};
ui$PairCompleteState.prototype.lockScreen_=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-try-it-out");chrome.screenlockPrivate.setLocked(!0);fadingTransition(pairingButtonElement(),function(el){el.textContent=app$ResourceUtil$strings_.setupPostLockDismissButtonLabel});pairingButtonElement().removeEventListener("click",this.clickListener);this.clickListener=function(){JSCompiler_StaticMethods_recordProgressEvent(this.pairingDialog,"clicked-done");chrome.app.window.current().close()}.bind(this);
pairingButtonElement().addEventListener("click",this.clickListener)};var pairingDialog=null;function closeApp(){chrome.app.window.current().close()}
document.addEventListener("DOMContentLoaded",function(){if("easy_unlock_pairing"==chrome.app.window.current().id){var isPromoInitiatedFlow=!1,queryVariables=document.location.search.substring(1).split("&");if(1===queryVariables.length){var keyAndValue=queryVariables[0].split("=");if(2===keyAndValue.length){var value=keyAndValue[1];"didClickOnPromoNotification"===keyAndValue[0]&&(isPromoInitiatedFlow="true"===value)}}document.getElementById("close-button").onclick=closeApp;window.onkeydown=function(keyEvent){"U+001B"!==
keyEvent.keyIdentifier||keyEvent.shiftKey||keyEvent.altKey||keyEvent.ctrlKey||closeApp()};chrome.feedbackPrivate.getUserEmail(function(){app$ResourceUtil$loadStrings(function(){pairingDialog=new ui$PairingDialog(isPromoInitiatedFlow);pairingDialog.start()})})}});
